(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["windows"],{"014c":function(t,e,s){},"0484":function(t,e,s){"use strict";s("f817")},"04ae":function(t,e,s){"use strict";s("93c8")},"0717":function(t,e,s){},"0da6":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"windows"},on:{click:t.hidePopups}},[s("desktop-background",{attrs:{id:"desktop-bg",src:t.parsedBg.url,isAnimated:t.parsedBg.isAnimated}}),t.saverType?s("screen-saver",{attrs:{type:t.saverType}}):t._e(),s("desktop"),"macos"!==t.theme&&"ubuntu"!==t.theme?s("start-menu"):t._e(),s("taskbar"),s("sponsor-ads",{attrs:{type:"slidein"}})],1)},n=[],r=s("0f35"),a=s("2f62"),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"touch",rawName:"v-touch:touchhold",value:t.openMenu,expression:"openMenu",arg:"touchhold"}],attrs:{id:"desktop"},on:{contextmenu:t.openMenu}},[s("div",{ref:"Desktop",style:t.desktopStyle,attrs:{id:"desktop-icons"}},t._l(t.items,(function(e,i){return s("item-icon",{directives:[{name:"show",rawName:"v-show",value:t.showIcons,expression:"showIcons"}],key:e.key,ref:"Icons",refInFor:!0,attrs:{item:e,index:i,renaming:t.renameItem===e.key},on:{rename:t.toggleRenaming,outclick:t.handleClickOutside}})})),1),t.showAds?s("purchase-sub"):t._e(),s("desktop-menu",{attrs:{offset:t.menuOffset},on:{refresh:t.refresh}}),s("desktop-item-menu",{attrs:{data:t.itemMenuData},on:{rename:t.toggleRenaming}}),s("explorer-menu",{attrs:{data:t.explorerMenuData}}),s("explorer-item-menu",{directives:[{name:"show",rawName:"v-show",value:"explorer"===t.explorerItemMenuHost,expression:"explorerItemMenuHost === 'explorer'"}],attrs:{data:t.explorerItemMenuData}}),s("bin-item-menu",{directives:[{name:"show",rawName:"v-show",value:"bin"===t.explorerItemMenuHost,expression:"explorerItemMenuHost === 'bin'"}],attrs:{data:t.explorerItemMenuData}}),t.isMacos?s("dock"):t._e(),t.isUbuntu?s("dock-ubuntu"):t._e(),s("transition-group",{staticClass:"fragment",attrs:{"leave-active-class":"animated fadeOut fastest"}},t._l(t.windows,(function(e){return s(t.getComponent(e.id),{key:e.id,tag:"component"})})),1),t._l(t.gadgets,(function(t){return s("gadget-"+t.component,{key:t.id,tag:"component",attrs:{id:t.id,"data-test-desktop-gadget":t.id}})}))],2)},c=[],l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("base-menu",{class:{inactive:!t.showMenu},style:t.menuOffset,attrs:{items:t.items}})},h=[],d=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("winui-menu",[t._l(t.items,(function(e,i){return[s("winui-menuitem",{key:i,attrs:{"aria-disabled":e.disabled,hidden:e.hidden,"data-test-menu-item":e.test}},[e.icon?s("icon",{attrs:{id:e.icon,icon:t.icon[e.icon]}}):t._e(),s("button",{on:{click:e.click}},[e.bold?s("b",[t._v(t._s(e.label))]):[t._v(t._s(e.label))]],2)],1),e.hasDivider&&!e.hidden?s("hr",{key:"hr"+i}):t._e()]}))],2)},u=[],p=s("e645"),m={components:{Icon:p["a"]},props:{items:Array},computed:{...Object(a["c"])(["themeData"]),icon(){return this.themeData.icon}}},g=m,b=s("2877"),f=Object(b["a"])(g,d,u,!1,null,null,null),y=f.exports,v=s("01b4"),S=s("4ee0"),w=s("e302"),_={components:{BaseMenu:y},props:{data:Object},mixins:[S["a"]],data(){return{showMenu:null!==this.data,menuOffset:null}},computed:{items(){return[{label:this.$t("restore"),click:this.restore,hasDivider:!0,test:"restore"},{label:this.$t("delete"),click:this.delete,hasDivider:!0,test:"delete"},{label:this.$t("properties"),click:this.viewProps,bold:!0,disabled:!0,test:"properties"}]}},watch:{data(t){if(this.showMenu=null!==t,!t)return;const{x:e,y:s}=t,{offsetWidth:i,offsetHeight:n}=this.$el,{offsetWidth:r,offsetHeight:a}=this.$parent.$el;this.menuOffset={left:(e+i<r?e:e-i)+"px",top:(s+n<a?s:s-n)+"px"}}},methods:{async restore(){try{await this.$store.dispatch(v["a"].TrashRestore,this.data)}catch(t){Object(w["l"])(this.$t(t.message||t))}this.closeMenu()},async delete(){try{await this.$store.dispatch(v["a"].TrashRemove,this.data)}catch(t){Object(w["l"])(this.$t(t.message||t))}this.closeMenu()},viewProps(){this.closeMenu()},closeMenu(){this.showMenu=!1}}},k=_,D=Object(b["a"])(k,l,h,!1,null,null,null),P=D.exports,x=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("base-menu",{class:{inactive:!t.showMenu},style:t.menuOffset,attrs:{items:t.items}})},$=[],I=s("0e9a"),C=s("4cca"),M=s("0fbc"),O=s("f708"),T=s("f106"),E=s("eb54b"),L=s("a080"),A={mixins:[E["a"]],computed:Object(a["d"])(["desktopPath"]),methods:{async download(t){const{name:e,ext:s}=Object(I["r"])(t),i=await T["a"].read(t);Object(I["b"])(e+"."+s,s,i),T["a"].revoke(i),this.closeMenu()},async extractHere(t){this.closeMenu(),this.emitProgress({title:"Extracting",header:"Extracting "+Object(I["c"])(t),message:this.$t("wait")});try{const e=Object(C["f"])(t),s=await T["a"].unzip(t);await Object(r["p"])(Object.keys(s),t=>{const i=Object(L["d"])(s,t),n=1===t.split("/").filter(Boolean).length,a=!i||t.endsWith("/"),o=a?t.slice(0,-1):t;if(n&&e===this.desktopPath)return this.$store.dispatch(v["a"].ShortcutAdd,{lbl:a?Object(I["c"])(o):o,icon:a?"folder":Object(C["e"])(o),key:a?"folder":Object(C["b"])(o),type:a?"folder":"file",data:i});{const t=a?Object(I["c"])(o):o,s=`${e}/${t}`;return Object(r["h"])(i)?T["a"].mkdir(s):T["a"].write(i,s)}}),this.$store.commit(v["a"].ForceUpdate)}catch(e){this.emitError(e.message||e)}this.dismissProgress()},closeMenu(){this.showMenu=!1}}},N={components:{BaseMenu:y},props:{data:Object},mixins:[A,S["a"],E["a"]],data(){return{showMenu:null!==this.data,type:null,shortcut:null,isPinned:!1,isSystem:!1,isApp:!1,canPin:!1,menuOffset:null}},computed:{...Object(a["d"])(["trash"]),list(){const t=Object.keys(this.apps).map(t=>({key:t,lbl:this.apps[t].label,icon:Object(M["c"])(this.apps[t].icon)})),e=this.programs.map(t=>({key:t,lbl:this.$t(t),icon:this.themeData.icon[t]}));return[...e,...t]},items(){return[{label:this.$t("open"),bold:!0,click:this.open,test:"open"},"bin"===this.type&&{label:this.$t("empty-bin"),click:this.emptyBin,icon:"bin",disabled:0===this.trash.length,test:"emptybin"},{label:this.$t(this.isPinned?"unpin-taskbar":"pin-taskbar"),click:this.togglePin,disabled:!this.canPin,hasDivider:!0,test:this.isPinned?"unpin":"pin"},{label:this.$t("extract-here"),click:()=>this.extractHere(this.shortcut.path),hidden:!this.shortcut||!this.shortcut.path||!Object(I["d"])(this.shortcut.path),hasDivider:!0,test:"extract-here"},{label:this.$t("send-to")+" Desktop",click:this.createShortcut,hidden:this.shortcut||this.isSystem,hasDivider:!0,test:"sendto"},Object(O["d"])()&&{label:this.$t("download"),click:()=>this.download(this.shortcut.path),hidden:!this.isDownloadable,test:"download"},{label:this.$t("cut"),click:this.cutShortcut,hidden:this.isLimited,test:"cut"},{label:this.$t("copy"),click:this.copyShortcut,hidden:this.isLimited,hasDivider:!0,test:"copy"},{label:this.$t("delete"),click:this.deleteShortcut,disabled:this.isSystem,hidden:!this.shortcut,test:"delete"},{label:this.$t("rename"),click:this.renameShortcut,disabled:this.isSystem,hidden:!this.shortcut,hasDivider:!0,test:"rename"},{label:this.$t("properties"),click:this.showProperties,disabled:!this.isApp,test:"properties"}].filter(Boolean)},isLimited(){return!this.shortcut||this.isSystem},isDownloadable(){if(this.isLimited)return!1;const{ext:t}=Object(I["r"])(this.shortcut.path);return t&&"lnk"!==t}},watch:{data(t){if(this.showMenu=null!==t,!t)return;const{x:e,y:s,id:i}=t;this.type=i.split("-")[0],this.isPinned=this.pinnedPrograms.includes(this.type),this.isSystem=["computer","bin"].includes(i),this.isApp=Object(r["e"])(this.type),this.shortcut=this.getShortcut(i),this.canPin=!this.shortcut||this.shortcut&&!this.shortcut.path;const{offsetWidth:n,offsetHeight:a}=this.$el,{offsetWidth:o,offsetHeight:c}=this.$parent.$el;this.menuOffset={left:(e+n<o?e:e-n)+"px",top:(s+a<c?s:s-a)+"px"}}},methods:{open(){this.openItem(this.shortcut||this.type),this.closeMenu()},async emptyBin(){try{const t=this.trash.map(t=>this.$store.dispatch(v["a"].TrashRemove,t));await Promise.all(t)}catch(t){Object(w["l"])(t.message||t)}this.closeMenu()},createShortcut(){let t=this.list.find(t=>t.key===this.type);const e=Object(I["h"])(t.icon)?t.icon:t.key;t={...t,lbl:Object(C["a"])(t.lbl+".lnk",this.shortcuts),icon:e,data:JSON.stringify({exe:t.key,icon:e}),type:"shortcut"},this.$store.dispatch(v["a"].ShortcutAdd,t),this.closeMenu()},cutShortcut(){this.$store.commit(v["a"].ClipboardItem,{path:this.shortcut.path,action:"cut"}),this.closeMenu()},copyShortcut(){this.$store.commit(v["a"].ClipboardItem,{path:this.shortcut.path,action:"copy"}),this.closeMenu()},deleteShortcut(){this.$store.dispatch(v["a"].ShortcutRemove,this.shortcut),this.closeMenu()},renameShortcut(){this.$emit("rename",this.data.id),this.closeMenu()},showProperties(){Object(w["g"])(this.type)},togglePin(){this.canPin&&(this.isPinned?this.$store.dispatch(v["a"].ProgramUnpin,this.type):this.$store.dispatch(v["a"].ProgramPin,this.type),this.closeMenu())}}},j=N,W=Object(b["a"])(j,x,$,!1,null,null,null),z=W.exports,R=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("winui-menu",{class:["can-hover",{inactive:!t.showMenu}],style:t.menuOffset,attrs:{"data-test-desktop-menu":""}},[s("winui-menuitem",{attrs:{"data-test-menu-item":"view"}},[t._v(" "+t._s(t.$t("view"))+" "),s("winui-menu",{style:t.subOffset},[s("winui-menuitem",{attrs:{option:t.sizeOption("lg")},model:{value:t.sizeIcons,callback:function(e){t.sizeIcons=e},expression:"sizeIcons"}},[t._v(" "+t._s(t.$t("lg-icons"))+" ")]),s("winui-menuitem",{attrs:{option:t.sizeOption("md")},model:{value:t.sizeIcons,callback:function(e){t.sizeIcons=e},expression:"sizeIcons"}},[t._v(" "+t._s(t.$t("md-icons"))+" ")]),s("winui-menuitem",{attrs:{option:t.sizeOption("sm")},model:{value:t.sizeIcons,callback:function(e){t.sizeIcons=e},expression:"sizeIcons"}},[t._v(" "+t._s(t.$t("sm-icons"))+" ")]),s("hr"),s("winui-menuitem",{attrs:{option:t.autoOption},model:{value:t.autoIcons,callback:function(e){t.autoIcons=e},expression:"autoIcons"}},[t._v(" "+t._s(t.$t("auto-desktop-icons"))+" ")]),s("hr"),s("winui-menuitem",{attrs:{option:t.showOption},model:{value:t.showIcons,callback:function(e){t.showIcons=e},expression:"showIcons"}},[t._v(" "+t._s(t.$t("show-desktop-icons"))+" ")])],1)],1),s("winui-menuitem",{staticClass:"has-divider",attrs:{"data-test-menu-item":"refresh"}},[s("button",{on:{click:t.refresh}},[t._v(" "+t._s(t.$t("refresh"))+" ")])]),s("winui-menuitem",{attrs:{"aria-disabled":!t.clipboardItem,"data-test-menu-item":"paste"}},[s("button",{on:{click:function(e){return t.paste(t.desktopPath)}}},[t._v(" "+t._s(t.$t("paste"))+" ")])]),s("winui-menuitem",{attrs:{"data-test-menu-item":"copypath"}},[s("button",{on:{click:function(e){return t.copyPath(t.desktopPath)}}},[t._v(" "+t._s(t.$t("copy-path"))+" ")])]),s("winui-menuitem",{staticClass:"has-divider",attrs:{"data-test-menu-item":"upload"}},[s("button",{on:{click:function(e){return t.upload(t.desktopPath)}}},[t._v(" "+t._s(t.$t("upload-files-here"))+" ")])]),s("winui-menuitem",{attrs:{"data-test-menu-item":"new"}},[t._v(" "+t._s(t.$t("new"))+" "),s("winui-menu",{style:t.subOffset,attrs:{"data-test-menu":"new"}},[s("winui-menuitem",{attrs:{"data-test-menu-item":"new-folder"}},[s("img",{attrs:{src:t.icon.folder}}),s("button",{on:{click:function(e){return t.makeFolder(t.desktopPath)}}},[t._v(t._s(t.$t("folder")))])]),s("winui-menuitem",{staticClass:"has-divider",attrs:{"data-test-menu-item":"new-shortcut"}},[s("img",{attrs:{src:t.icon.shortcut}}),s("button",{on:{click:t.makeShortcut}},[t._v("Shortcut")])]),s("winui-menuitem",{attrs:{"data-test-menu-item":"new-richtext"}},[s("img",{attrs:{src:t.icon.richtext}}),s("button",{on:{click:function(e){return t.makeRichtext(t.desktopPath)}}},[t._v(t._s(t.$t("rich-text-document")))])]),s("winui-menuitem",{attrs:{"data-test-menu-item":"new-text"}},[s("img",{attrs:{src:t.icon.text}}),s("button",{on:{click:function(e){return t.makeText(t.desktopPath)}}},[t._v(t._s(t.$t("text-document")))])])],1)],1),s("hr"),s("winui-menuitem",{attrs:{"data-test-menu-item":"display"}},[s("img",{attrs:{src:t.icon.display}}),s("button",{on:{click:t.showDisplay}},[t._v(t._s(t.$t("display")))])]),s("winui-menuitem",{attrs:{"data-test-menu-item":"gadgets"}},[s("img",{attrs:{src:t.icon.gadgets}}),s("button",{on:{click:t.showGadgets}},[t._v("Gadgets")])]),s("winui-menuitem",{attrs:{"data-test-menu-item":"personalize"}},[s("img",{attrs:{src:t.icon.personal}}),s("button",{on:{click:t.showPersonal}},[t._v(t._s(t.$t("personalize")))])])],1)},V=[],B=s("6792"),H=s("6e15"),Y={mixins:[H["a"]],props:{offset:Object},data(){const{sizeIcons:t,showIcons:e,autoIcons:s}=this.$store.state;return{sizeIcons:t,showIcons:e,autoIcons:s,menuOffset:null,subOffset:null,sizeOption:t=>({as:"radio",id:"icon-size-"+t,name:"icon-size",nativeValue:t}),showOption:{as:"checkbox",id:"show-icons"},autoOption:{as:"checkbox",id:"auto-icons"}}},computed:{...Object(a["c"])(["themeData"]),icon(){return{text:this.themeData.icon["text-s"],folder:this.themeData.icon["folder-s"],display:this.themeData.icon["display-s"],personal:this.themeData.icon["personal-s"],gadgets:this.themeData.icon["gadgets-s"],shortcut:this.themeData.icon["shortcut"],richtext:this.themeData.icon.wordpad}}},watch:{offset(t){if(this.showMenu=null!==t,!t)return;const{offsetWidth:e,offsetHeight:s}=this.$el,{offsetWidth:i,offsetHeight:n}=this.$parent.$el,{x:r,y:a}=t;this.menuOffset={left:(r+e<i?r:r-e)+"px",top:(a+s<n?a:a-s)+"px"},this.subOffset={left:r+2*e>i?"initial":"100%",right:r+2*e>i?"100%":""}},sizeIcons(t){this.$store.dispatch(v["a"].IconSize,t),this.closeMenu()},showIcons(t){this.$store.dispatch(v["a"].IconShow,t),this.closeMenu()},autoIcons(t){this.$store.dispatch(v["a"].IconAuto,t),this.closeMenu()}},methods:{refresh(){this.$store.commit(v["a"].ForceUpdate),this.$emit(B["c"].Refresh),this.closeMenu()},makeShortcut(){this.$root.$emit(B["c"].OpenWindow,"shortcut"),this.closeMenu()},showDisplay(){this.$store.commit(v["a"].WindowLocation,"display"),this.$root.$emit(B["c"].OpenWindow,"cpanel"),this.closeMenu()},showGadgets(){this.$root.$emit(B["c"].OpenWindow,"gadgets"),this.closeMenu()},showPersonal(){this.$root.$emit(B["c"].OpenWindow,"personalize"),this.closeMenu()}}},F=Y,K=Object(b["a"])(F,R,V,!1,null,null,null),U=K.exports;function Z(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}const G=(t,e)=>{const s=e;window.addEventListener("resize",s),window.addEventListener("scroll",s);const i=new MutationObserver(s),n=new ResizeObserver(s);t.forEach((t,e)=>{i.observe(t,{childList:0!==e,attributes:!0}),t instanceof Element&&n.observe(t)});const r=()=>{window.removeEventListener("resize",s),window.removeEventListener("scroll",s),i.disconnect(),n.disconnect()};return{observer:i,resizeObserver:n,callback:s,cleanup:r}},q=(t,e)=>{let s;return(...i)=>{const n=()=>{s=void 0,t(...i)};clearTimeout(s),s=setTimeout(n,e)}},J=t=>{const e=(t,s=0)=>{var i;const n=null===(i=t[s])||void 0===i?void 0:i.parentNode;return n?(t.push(n),s++,e(t,s)):t};return e([t])},X=(t,e)=>{if(t instanceof Document)return{top:0,left:0,bottom:0,right:0,width:window.innerWidth,height:window.innerHeight};const s=t.getBoundingClientRect();return{top:s.top,left:s.left,bottom:s.bottom,right:s.right,width:(t.clientWidth||s.width)*e,height:(t.clientHeight||s.height)*e}},Q=({computedStyle:t,node:e})=>{const{position:s}=t,i="absolute"===s||"relative"===s||"fixed"===s;e instanceof Document||i||(e.style.position="relative")},tt=(t,e,s=1)=>{if(null===e||void 0===e||!e.length||!t)return;const i=document&&document.documentElement&&document.documentElement.scrollTop&&document.documentElement,n=t instanceof Document?i||document.body:t,r=e.includes("top")&&n.scrollTop>0,a=e.includes("bottom")&&n.scrollTop<n.scrollHeight,o=e.includes("left")&&n.scrollLeft>0,c=e.includes("right")&&n.scrollLeft<n.scrollWidth;r&&(n.scrollTop-=1*s),a&&(n.scrollTop+=1*s),o&&(n.scrollLeft-=1*s),c&&(n.scrollLeft+=1*s)};class et{constructor({DS:t,PS:e}){Z(this,"DS",void 0),Z(this,"PS",void 0),Z(this,"Settings",void 0),Z(this,"_observers",void 0),Z(this,"_node",void 0),Z(this,"_parentNodes",void 0),Z(this,"_computedStyle",void 0),Z(this,"_computedBorder",void 0),Z(this,"_rect",void 0),Z(this,"setArea",t=>{this.reset(),this._node=t,Q({computedStyle:this.computedStyle,node:this._node}),setTimeout(()=>{this.PS.publish("Area:modified:pre",{item:this.HTMLNode}),this.reset(),this.PS.publish("Area:modified",{item:this.HTMLNode})})}),Z(this,"init",()=>{this._observers=G(this.parentNodes,q(t=>{this.PS.publish("Area:modified:pre",{event:t,item:this.HTMLNode}),this.reset(),this.PS.publish("Area:modified",{event:t,item:this.HTMLNode})},60))}),Z(this,"reset",()=>{this._computedStyle=void 0,this._rect=void 0,this._computedBorder=void 0,this._parentNodes=void 0}),Z(this,"stop",()=>{var t;null===(t=this._observers)||void 0===t||t.cleanup(),this.reset()}),Z(this,"scroll",(t,e)=>{const s={scroll_directions:t,scroll_multiplier:e};this.PS.publish("Area:scroll:pre",s),tt(this._node,t,e),this.PS.publish("Area:scroll",s)}),this.DS=t,this.PS=e,this.Settings=this.DS.stores.SettingsStore.s,this._node=this.Settings.area,this.setArea(this.Settings.area),this.PS.subscribe("Settings:updated:area",({settings:{area:t}})=>this.setArea(t)),this.PS.subscribe("Interaction:init",this.init),this.PS.subscribe("Interaction:end",this.reset)}get HTMLNode(){return this._node}get computedBorder(){return this._computedBorder?this._computedBorder:{top:parseInt(this.computedStyle.borderTopWidth),bottom:parseInt(this.computedStyle.borderBottomWidth),left:parseInt(this.computedStyle.borderLeftWidth),right:parseInt(this.computedStyle.borderRightWidth)}}get computedStyle(){return this._computedStyle?this._computedStyle:this.HTMLNode instanceof Document?this._computedStyle=window.getComputedStyle(this.HTMLNode.body||this.HTMLNode.documentElement):this._computedStyle=window.getComputedStyle(this.HTMLNode)}get rect(){return this._rect?this._rect:this._rect=X(this.HTMLNode,this.DS.stores.SettingsStore.s.zoom)}get parentNodes(){return this._parentNodes?this._parentNodes:this._parentNodes=J(this.HTMLNode)}}const st=({x:t,y:e},s,{x:i,y:n})=>{const r={"+":{x:t+i,y:e+n},"-":{x:t-i,y:e-n},"*":{x:t*i,y:e*n},"/":{x:t/i,y:e/n}};return r[s]},it=t=>({x:t.left,y:t.top}),nt=(t,e=0)=>({left:t.x,top:t.y,right:t.x,bottom:t.y,width:e,height:e}),rt=t=>({x:t,y:t}),at=({shiftKey:t,keyboardDragSpeed:e,zoom:s,key:i,dragKeys:n,scrollDiff:r})=>{const a={x:0,y:0},o=t?4*e*s:e*s;return null!==n&&void 0!==n&&n.left.includes(i)&&(a.x=r.x||-o),null!==n&&void 0!==n&&n.right.includes(i)&&(a.x=r.x||o),null!==n&&void 0!==n&&n.up.includes(i)&&(a.y=r.y||-o),null!==n&&void 0!==n&&n.down.includes(i)&&(a.y=r.y||o),a},ot=t=>{const e={x:0,y:0},s=window.getComputedStyle(t);if(!s.transform||"none"===s.transform)return e;if(s.transform.indexOf("3d")>=0){const t=s.transform.trim().match(/matrix3d\((.*?)\)/);if(t&&t.length){var i;const s=null===(i=t[1])||void 0===i?void 0:i.split(",");e.x=parseInt(s[12])||0,e.y=parseInt(s[13])||0}return e}const n=s.transform.trim().match(/matrix\((.*?)\)/);if(n&&n.length){var r;const t=null===(r=n[1])||void 0===r?void 0:r.split(",");e.x=parseInt(t[4])||0,e.y=parseInt(t[5])||0}return e},ct=t=>{const{transform:e}=t.style;if(!e||e.indexOf("translate")<0)return ot(t);const s={x:0,y:0},i=e.trim().match(/translate[3dD]*?\(.*?\)/);if(i){var n;const t=null===(n=i[0])||void 0===n?void 0:n.split("(");if(t){var r;const e=null===(r=t[1])||void 0===r?void 0:r.split(",");s.x=parseInt(e[0])||0,s.y=parseInt(e[1])||0}}return s.x||s.x?s:ot(t)},lt=t=>{const{style:e}=t,s={x:parseInt(e.left)||0,y:parseInt(e.top)||0};if(!s.x&&!s.x){const e=window.getComputedStyle(t);return{x:parseInt(e.left)||0,y:parseInt(e.top)||0}}return s},ht=(t,e)=>e?ct(t):lt(t),dt=(t,e,s)=>{if(s){const s=t.style.transform;t.style.transform=`translate3d(${e.x}px,${e.y}px,1px) ${s.replace(/translate.*?\)/g,"")}`}else t.style.left=e.x+"px",t.style.top=e.y+"px";return t},ut=({element:t,posDirection:e,useTransform:s})=>{const i=ht(t,s),n=st(i,"+",e);dt(t,n,s)},pt=({containerRect:t,selectionRect:e,direction:s,scrollAmount:i})=>{const n={top:t.top-e.top+i.y,left:t.left-e.left+i.x,bottom:t.bottom-e.bottom+i.y,right:t.right-e.right+i.x};return 0===s.x&&0===s.y||(s.y<0&&(s.y=Math.max(s.y,n.top)),s.x<0&&(s.x=Math.max(s.x,n.left)),s.y>0&&(s.y=Math.min(s.y,n.bottom)),s.x>0&&(s.x=Math.min(s.x,n.right)),e.top+=s.y,e.bottom+=s.y,e.left+=s.x,e.right+=s.x),s};class mt{constructor({DS:t,PS:e}){Z(this,"_prevCursorPos",void 0),Z(this,"_prevScrollPos",void 0),Z(this,"_elements",[]),Z(this,"_dragKeys",void 0),Z(this,"_dragKeysFlat",[]),Z(this,"_selectionRect",nt(rt(0))),Z(this,"DS",void 0),Z(this,"PS",void 0),Z(this,"Settings",void 0),Z(this,"assignDragKeys",()=>{this._dragKeys={up:this.Settings.dragKeys.up.map(t=>t.toLowerCase()),down:this.Settings.dragKeys.down.map(t=>t.toLowerCase()),left:this.Settings.dragKeys.left.map(t=>t.toLowerCase()),right:this.Settings.dragKeys.right.map(t=>t.toLowerCase())},this._dragKeysFlat=[...this._dragKeys.up,...this._dragKeys.down,...this._dragKeys.left,...this._dragKeys.right]}),Z(this,"keyboardDrag",({event:t,key:e})=>{const s=e.toLowerCase();if(!this.Settings.keyboardDrag||!this._dragKeysFlat.includes(s)||!this.DS.SelectedSet.size||!this.Settings.draggability||this.DS.continue)return;const i={event:t,isDragging:!0,isDraggingKeyboard:!0,key:e};this.PS.publish(["Interaction:start:pre","Interaction:start"],i),this._elements=this.DS.getSelection(),this._selectionRect=this.DS.Selection.boundingRect,this.handleZIndex(!0);let n=at({shiftKey:this.DS.stores.KeyStore.currentValues.includes("shift"),keyboardDragSpeed:this.Settings.keyboardDragSpeed,zoom:this.Settings.zoom,key:s,scrollDiff:this._scrollDiff,dragKeys:this._dragKeys});n=pt({direction:n,containerRect:this.DS.SelectorArea.rect,scrollAmount:this.DS.stores.ScrollStore.scrollAmount,selectionRect:this._selectionRect}),this.moveElements(n),this.PS.publish(["Interaction:update:pre","Interaction:update"],i)}),Z(this,"keyboardEnd",({event:t,key:e})=>{const s=e.toLowerCase();if(!this.Settings.keyboardDrag||!this._dragKeysFlat.includes(s)||!this.DS.SelectedSet.size||!this.Settings.draggability)return;const i={event:t,isDragging:this.Settings.draggability,isDraggingKeyboard:!0,key:e};this.PS.publish(["Interaction:end:pre","Interaction:end"],i)}),Z(this,"start",({isDragging:t,isDraggingKeyboard:e})=>{t&&!e&&(this._prevCursorPos=void 0,this._prevScrollPos=void 0,this._elements=this.DS.getSelection(),this._selectionRect=this.DS.Selection.boundingRect,this.handleZIndex(!0))}),Z(this,"stop",()=>{this._prevCursorPos=void 0,this._prevScrollPos=void 0,this.handleZIndex(!1),this._elements=[]}),Z(this,"update",({isDragging:t,isDraggingKeyboard:e})=>{if(!t||!this._elements.length||e||this.DS.continue)return;let s=st(this._cursorDiff,"+",this._scrollDiff);s=pt({direction:s,containerRect:this.DS.SelectorArea.rect,scrollAmount:this.DS.stores.ScrollStore.scrollAmount,selectionRect:this._selectionRect}),this.moveElements(s)}),Z(this,"handleZIndex",t=>{this._elements.forEach(e=>e.style.zIndex=""+((parseInt(e.style.zIndex)||0)+(t?9999:-9998)))}),Z(this,"moveElements",t=>{const{elements:e,direction:s}=this.filterDragElements({elements:this._elements,direction:t});e.forEach(t=>{ut({element:t,posDirection:s,containerRect:this.DS.SelectorArea.rect,useTransform:this.Settings.useTransform})})}),Z(this,"filterDragElements",({elements:t,direction:e})=>({elements:t,direction:e})),this.DS=t,this.PS=e,this.Settings=this.DS.stores.SettingsStore.s,this.PS.subscribe("Settings:updated:dragKeys",this.assignDragKeys),this.assignDragKeys(),this.PS.subscribe("Interaction:start",this.start),this.PS.subscribe("Interaction:end",this.stop),this.PS.subscribe("Interaction:update",this.update),this.PS.subscribe("KeyStore:down",this.keyboardDrag),this.PS.subscribe("KeyStore:up",this.keyboardEnd)}get _cursorDiff(){const t=this.DS.stores.PointerStore.currentVal,e=this._prevCursorPos?st(t,"-",this._prevCursorPos):{x:0,y:0};return this._prevCursorPos=t,e}get _scrollDiff(){const t=this.DS.stores.ScrollStore.currentVal,e=this._prevScrollPos?st(t,"-",this._prevScrollPos):{x:0,y:0};return this._prevScrollPos=t,e}}const gt=(t,e,s=0)=>{if(!t||!e)return!1;let i=t;if(s>0){const e=(t.right-t.left)*s,n=(t.bottom-t.top)*s;i={left:t.left+e,right:t.right-e,top:t.top+n,bottom:t.bottom-n}}return i.left<e.right&&i.right>e.left&&i.top<e.bottom&&i.bottom>e.top},bt=t=>t?Array.isArray(t)||"function"===typeof t[Symbol.iterator]?[...new Set([...t])]:[t]:[];class ft{constructor({DS:t,PS:e,id:s,element:i,droppables:n}){Z(this,"id",void 0),Z(this,"element",void 0),Z(this,"_droppables",void 0),Z(this,"_rect",void 0),Z(this,"_observers",void 0),Z(this,"_timeout",void 0),Z(this,"_itemsDropped",[]),Z(this,"_itemsInside",void 0),Z(this,"DS",void 0),Z(this,"PS",void 0),Z(this,"Settings",void 0),Z(this,"isDestroyed",!1),Z(this,"_parentNodes",void 0),Z(this,"setReadyClasses",t=>{if(this.isDestroyed)return;const e=this.droppables.filter(t=>this.DS.SelectedSet.has(t));e.length&&(e.forEach(e=>{e.classList[t](""+this.Settings.droppableClass),e.classList[t](`${this.Settings.droppableClass}-${this.id}`)}),this.element.classList[t](""+this.Settings.dropZoneReadyClass))}),Z(this,"handleNoDrop",()=>{var t;this.isDestroyed||(this.DS.SelectedSet.forEach(t=>{t.classList.remove(this.Settings.droppedTargetClass),t.classList.remove(`${this.Settings.droppedTargetClass}-${this.id}`)}),this._itemsDropped=this._itemsDropped.filter(t=>!this.DS.SelectedSet.has(t)),null!==(t=this._itemsDropped)&&void 0!==t&&t.length||this.element.classList.remove(""+this.Settings.dropZoneTargetClass))}),Z(this,"handleDrop",()=>{var t,e,s;this.isDestroyed||(this._itemsDropped=[...new Set([...this._itemsDropped,...null===(t=this.droppables)||void 0===t?void 0:t.filter(t=>this.DS.SelectedSet.has(t))])],null===(e=this._itemsDropped)||void 0===e||e.forEach(t=>{t.classList.add(""+this.Settings.droppedTargetClass),t.classList.add(`${this.Settings.droppedTargetClass}-${this.id}`)}),null!==(s=this._itemsDropped)&&void 0!==s&&s.length&&this.element.classList.add(""+this.Settings.dropZoneTargetClass))}),Z(this,"handleItemsInsideClasses",()=>{let t=!1;this.droppables.forEach(e=>{var s;null!==(s=this.itemsInside)&&void 0!==s&&s.includes(e)?(e.classList.add(""+this.Settings.droppedInsideClass),e.classList.add(`${this.Settings.droppedInsideClass}-${this.id}`),t=!0):(e.classList.remove(`${this.Settings.droppedInsideClass}-${this.id}`),e.className.includes(this.Settings.droppedInsideClass+"-")||e.classList.remove(""+this.Settings.droppedInsideClass))}),t?this.element.classList.add(""+this.Settings.dropZoneInsideClass):this.element.classList.remove(""+this.Settings.dropZoneInsideClass)}),Z(this,"start",({isDragging:t})=>{t&&!this.isDestroyed&&this.setReadyClasses("add")}),Z(this,"stop",({isDragging:t})=>{t&&!this.isDestroyed&&(this.setReadyClasses("remove"),this.handleItemsInsideClasses())}),Z(this,"toObject",()=>({id:this.id,element:this.element,droppables:this.droppables,itemsDropped:this.itemsDropped,itemsInside:this.itemsInside})),this.DS=t,this.PS=e,this.Settings=this.DS.stores.SettingsStore.s,this.id=s,this.element=i,n&&(this.droppables=bt(n)),this.element.classList.add(""+this.Settings.dropZoneClass),this.PS.subscribe("Settings:updated:dropZoneClass",({settings:t})=>{this.element&&(this.element.classList.remove(t["dropZoneClass:pre"]),this.element.classList.add(t.dropZoneClass))}),this._observers=G(this.parentNodes,q(()=>this._rect=void 0,this.Settings.refreshMemoryRate)),this.PS.subscribe("Interaction:start",this.start),this.PS.subscribe("Interaction:end",this.stop)}destroy(){var t;null===(t=this._observers)||void 0===t||t.cleanup(),this.element.classList.remove(""+this.Settings.dropZoneClass),this.element.classList.remove(""+this.Settings.dropZoneTargetClass),this.element.classList.remove(""+this.Settings.dropZoneReadyClass),this.droppables.forEach(t=>{t.classList.remove(""+this.Settings.droppedTargetClass),t.classList.remove(`${this.Settings.droppedTargetClass}-${this.id}`),t.classList.remove(""+this.Settings.droppableClass),t.classList.remove(`${this.Settings.droppableClass}-${this.id}`)}),this.PS.unsubscribe("Interaction:start",this.start),this.PS.unsubscribe("Interaction:end",this.stop),this.isDestroyed=!0}get rect(){if(!this.isDestroyed)return this._rect?this._rect:this._rect=this.element.getBoundingClientRect()}get itemsDropped(){if(!this.isDestroyed)return this._itemsDropped}get itemsInside(){if(!this.isDestroyed)return this._itemsInside||(this._itemsInside=this.droppables.flatMap(t=>{const e=this.DS.SelectableSet.rects.get(t);return this.rect&&gt(e,this.rect,this.Settings.dropInsideThreshold)?[t]:[]}),this._timeout&&clearTimeout(this._timeout),this._timeout=setTimeout(()=>this._itemsInside=void 0,this.Settings.refreshMemoryRate)),this._itemsInside}get parentNodes(){return this._parentNodes?this._parentNodes:this._parentNodes=J(this.element)}get droppables(){return this._droppables?this._droppables:this.DS.SelectableSet.elements}set droppables(t){this._droppables=t}}class yt{constructor({DS:t,PS:e}){Z(this,"_zoneByElement",new Map),Z(this,"_zoneById",new Map),Z(this,"_zonesByDroppable",new Map),Z(this,"_zones",void 0),Z(this,"DS",void 0),Z(this,"PS",void 0),Z(this,"Settings",void 0),Z(this,"setDropZones",({dropZones:t})=>{t&&(this._zones&&this._zones.forEach(t=>t.destroy()),this._zones=t.map(t=>new ft({DS:this.DS,PS:this.PS,...t})),this._zones.forEach(t=>{this._zoneByElement.set(t.element,t),this._zoneById.set(t.id,t),t.droppables.forEach(e=>{const s=this._zonesByDroppable.get(e);if(null===s||void 0===s||!s.length)return this._zonesByDroppable.set(e,[t]);this._zonesByDroppable.set(e,[...new Set([...s,t])])})}))}),Z(this,"_handleDrops",t=>{var e;null===(e=this._zones)||void 0===e||e.forEach(e=>{e!==t&&e.handleNoDrop()}),t&&t.handleDrop()}),Z(this,"_getZoneByElementsFromPoint",(t,{x:e,y:s})=>{for(let i=0,n=t.length;i<n;i++){const n=this._zoneByElement.get(t[i]);if(gt(null===n||void 0===n?void 0:n.rect,{left:e,right:e,top:s,bottom:s},Math.min(this.Settings.dropTargetThreshold,.5)))return n}}),Z(this,"stop",({isDragging:t,isDraggingKeyboard:e,event:s})=>{if(!t)return;const i=this.getTarget({isDraggingKeyboard:e,event:s});this._handleDrops(i)}),Z(this,"getItemsDroppedById",t=>{const e=this._zoneById.get(t);return e?e.itemsDropped:console.warn(`[DragSelect] No zone found (id: ${t})`)}),Z(this,"getItemsInsideById",(t,e)=>{const s=this._zoneById.get(t);return s?(e&&s.handleItemsInsideClasses(),s.itemsInside):console.warn(`[DragSelect] No zone found (id: ${t})`)}),Z(this,"getKeyboardItemCenter",(t,e)=>{var s;if(!t||!e)return;const i=null===(s=e.target)||void 0===s?void 0:s.getBoundingClientRect(),n=i.left+i.width/2,r=i.top+i.height/2;return{x:n,y:r}}),Z(this,"getTarget",({coordinates:t,isDraggingKeyboard:e,event:s})=>{var i,n,r;if(null===(i=this._zones)||void 0===i||!i.length)return;let a;!t&&e&&s&&(a=this.getKeyboardItemCenter(e,s));const o=(null===t||void 0===t?void 0:t.x)||(null===(n=a)||void 0===n?void 0:n.x)||this.DS.stores.PointerStore.currentVal.x,c=(null===t||void 0===t?void 0:t.y)||(null===(r=a)||void 0===r?void 0:r.y)||this.DS.stores.PointerStore.currentVal.y,l=document.elementsFromPoint(o,c);return this._getZoneByElementsFromPoint(l,{x:o,y:c})}),this.DS=t,this.PS=e,this.Settings=this.DS.stores.SettingsStore.s,this.PS.subscribe("Settings:updated:dropZones",({settings:t})=>this.setDropZones(t)),this.setDropZones({dropZones:this.Settings.dropZones}),this.PS.subscribe("Interaction:end",this.stop)}}class vt{constructor({DS:t,PS:e}){Z(this,"isInteracting",void 0),Z(this,"isDragging",!1),Z(this,"DS",void 0),Z(this,"PS",void 0),Z(this,"Settings",void 0),Z(this,"init",()=>this.PS.publish("Interaction:init:pre",{init:!0})),Z(this,"_init",()=>{this.stop(),this.setAreaEventListeners(),this.PS.publish("Interaction:init",{init:!0})}),Z(this,"start",t=>this.PS.publish("Interaction:start:pre",{event:t,isDragging:this.isDragging})),Z(this,"_start",t=>{this._canInteract(t)&&(this.isInteracting=!0,this.isDragging=this.isDragEvent(t),this.PS.publish("Interaction:start",{event:t,isDragging:this.isDragging}),this.setDocEventListeners())}),Z(this,"isDragEvent",t=>{let e=null;return t.target&&"closest"in t.target&&(e=t.target.closest("."+this.Settings.selectableClass)),!(!this.Settings.draggability||this.DS.stores.KeyStore.isMultiSelectKeyPressed(t)||!e)&&(this.Settings.immediateDrag&&(this.DS.SelectedSet.size?this.DS.SelectedSet.has(e)||(this.DS.SelectedSet.clear(),this.DS.SelectedSet.add(e)):this.DS.SelectedSet.add(e)),!!this.DS.SelectedSet.has(e))}),Z(this,"onClick",({event:t})=>{if(!this._canInteract(t))return;if(t.detail>0)return;const{stores:{PointerStore:e,KeyStore:s},SelectableSet:i,SelectedSet:n}=this.DS;e.start(t);const r=t.target;r&&!i.has(r)||(s.isMultiSelectKeyPressed(t)||n.clear(),r&&n.toggle(r),this.reset(t))}),Z(this,"stop",(t=this.DS.Area.HTMLNode)=>{this.removeAreaEventListeners(t),this.removeDocEventListeners()}),Z(this,"update",({event:t,scroll_directions:e,scroll_multiplier:s})=>{this.isInteracting&&this.PS.publish(["Interaction:update:pre","Interaction:update"],{event:t,scroll_directions:e,scroll_multiplier:s,isDragging:this.isDragging})}),Z(this,"reset",t=>this.PS.publish("Interaction:end:pre",{event:t,isDragging:this.isDragging})),Z(this,"_reset",t=>{const{isDragging:e}=this;this.isInteracting=!1,this.isDragging=!1,this.removeDocEventListeners(),this.PS.publish("Interaction:end",{event:t,isDragging:e})}),Z(this,"setAreaEventListeners",(t=this.DS.Area.HTMLNode)=>{this.Settings.usePointerEvents?t.addEventListener("pointerdown",this.start,{passive:!1}):t.addEventListener("mousedown",this.start),t.addEventListener("touchstart",this.start,{passive:!1})}),Z(this,"removeAreaEventListeners",(t=this.DS.Area.HTMLNode)=>{this.Settings.usePointerEvents?t.removeEventListener("pointerdown",this.start,{passive:!1}):t.removeEventListener("mousedown",this.start),t.removeEventListener("touchstart",this.start,{passive:!1})}),Z(this,"setDocEventListeners",()=>{this.Settings.usePointerEvents?(document.addEventListener("pointerup",this.reset),document.addEventListener("pointercancel",this.reset)):document.addEventListener("mouseup",this.reset),document.addEventListener("touchend",this.reset)}),Z(this,"removeDocEventListeners",()=>{this.Settings.usePointerEvents?(document.removeEventListener("pointerup",this.reset),document.removeEventListener("pointercancel",this.reset)):document.removeEventListener("mouseup",this.reset),document.removeEventListener("touchend",this.reset)}),this.DS=t,this.PS=e,this.Settings=this.DS.stores.SettingsStore.s,this.PS.subscribe("Settings:updated:area",({settings:t})=>{this.removeAreaEventListeners(t["area:pre"]),this.setAreaEventListeners(t["area"])}),this.PS.subscribe("PointerStore:updated",({event:t})=>this.update({event:t})),this.PS.subscribe("Selectable:click",this.onClick),this.PS.subscribe("Selectable:pointer",({event:t})=>this.start(t)),this.PS.subscribe("Interaction:start:pre",({event:t})=>this._start(t)),this.PS.subscribe("Interaction:init:pre",this._init),this.PS.subscribe("Interaction:end:pre",({event:t})=>this._reset(t)),this.PS.subscribe("Area:scroll",this.update)}_canInteract(t){const e="clientX"in t&&0===t.clientX&&0===t.clientY&&0===t.detail&&t.target;return!("button"in t&&2===t.button||this.isInteracting||t.target&&!this.DS.SelectorArea.isInside(t.target)||!e&&!this.DS.SelectorArea.isClicked(t))}}class St{constructor({DS:t,PS:e}){Z(this,"_currentValues",new Set),Z(this,"_keyMapping",{control:"ctrlKey",shift:"shiftKey",meta:"metaKey"}),Z(this,"DS",void 0),Z(this,"PS",void 0),Z(this,"settings",void 0),Z(this,"init",()=>{document.addEventListener("keydown",this.keydown),document.addEventListener("keyup",this.keyup),window.addEventListener("blur",this.reset)}),Z(this,"keydown",t=>{var e;if(null===(e=t.key)||void 0===e||!e.toLocaleLowerCase)return;const s=t.key.toLowerCase();this.PS.publish("KeyStore:down:pre",{event:t,key:s}),this._currentValues.add(s),this.PS.publish("KeyStore:down",{event:t,key:s})}),Z(this,"keyup",t=>{var e;if(null===(e=t.key)||void 0===e||!e.toLocaleLowerCase)return;const s=t.key.toLowerCase();this.PS.publish("KeyStore:up:pre",{event:t,key:s}),this._currentValues.delete(s),this.PS.publish("KeyStore:up",{event:t,key:s})}),Z(this,"stop",()=>{document.removeEventListener("keydown",this.keydown),document.removeEventListener("keyup",this.reset),window.removeEventListener("blur",this.reset),this.reset()}),Z(this,"reset",()=>this._currentValues.clear()),this.DS=t,this.PS=e,this.settings=this.DS.stores.SettingsStore.s,this.PS.subscribe("Interaction:init",this.init)}isMultiSelectKeyPressed(t){var e,s;if(this.settings.multiSelectMode)return!0;const i=null!==(e=null===(s=this.settings.multiSelectKeys)||void 0===s?void 0:s.map(t=>t.toLocaleLowerCase()))&&void 0!==e?e:[];return!!this.currentValues.some(t=>i.includes(t))||!(!t||!i.some(e=>t[this._keyMapping[e]]))}get currentValues(){return Array.from(this._currentValues.values())}}const wt=({event:t})=>({x:t.clientX,y:t.clientY});class _t{constructor({DS:t,PS:e}){Z(this,"_isMouseInteraction",!1),Z(this,"_initialValArea",{x:0,y:0}),Z(this,"_currentValArea",{x:0,y:0}),Z(this,"_lastValArea",{x:0,y:0}),Z(this,"_initialVal",{x:0,y:0}),Z(this,"_currentVal",{x:0,y:0}),Z(this,"_lastVal",{x:0,y:0}),Z(this,"_lastTouch",void 0),Z(this,"DS",void 0),Z(this,"PS",void 0),Z(this,"settings",void 0),Z(this,"init",()=>{this.settings.usePointerEvents?document.addEventListener("pointermove",this.update,{passive:!1}):document.addEventListener("mousemove",this.update),document.addEventListener("touchmove",this.update,{passive:!1})}),Z(this,"getPointerPosition",t=>wt({event:this._normalizedEvent(t)})),Z(this,"update",t=>{t&&(this.PS.publish("PointerStore:updated:pre",{event:t}),this.currentVal=this.getPointerPosition(t),this._isMouseInteraction&&this.PS.publish("PointerStore:updated",{event:t}))}),Z(this,"stop",()=>{this.settings.usePointerEvents?document.removeEventListener("pointermove",this.update,{passive:!1}):document.removeEventListener("mousemove",this.update),document.removeEventListener("touchmove",this.update,{passive:!1}),this.reset()}),Z(this,"reset",t=>{this.currentVal=this.lastVal=this.getPointerPosition(t),setTimeout(()=>this._isMouseInteraction=!1,100)}),this.DS=t,this.PS=e,this.settings=this.DS.stores.SettingsStore.s,this.PS.subscribe("Interaction:init",this.init),this.PS.subscribe("Interaction:start",({event:t})=>this.start(t)),this.PS.subscribe("Interaction:end",({event:t})=>this.reset(t))}start(t){t&&(this._isMouseInteraction=!0,this.currentVal=this.initialVal=this.getPointerPosition(t))}_normalizedEvent(t){return!t||t instanceof KeyboardEvent?{clientX:0,clientY:0}:"touches"in t?("touchend"!==t.type&&(this._lastTouch=t),(null===(e=this._lastTouch)||void 0===e?void 0:e.touches[0])||t.touches[0]):t;var e}get initialValArea(){return this._initialValArea?this._initialValArea:{x:0,y:0}}get currentValArea(){return this._currentValArea?this._currentValArea:{x:0,y:0}}get lastValArea(){return this._lastValArea?this._lastValArea:{x:0,y:0}}get initialVal(){return this._initialVal?this._initialVal:{x:0,y:0}}get currentVal(){return this._currentVal?this._currentVal:{x:0,y:0}}get lastVal(){return this._lastVal?this._lastVal:{x:0,y:0}}set initialVal(t){this._initialVal=t,this._initialValArea=t&&st(t,"-",st(it(this.DS.Area.rect),"+",it(this.DS.Area.computedBorder)))}set currentVal(t){this._currentVal=t,this._currentValArea=t&&st(t,"-",st(it(this.DS.Area.rect),"+",it(this.DS.Area.computedBorder)))}set lastVal(t){this._lastVal=t,this._lastValArea=t&&st(t,"-",st(it(this.DS.Area.rect),"+",it(this.DS.Area.computedBorder)))}}class kt{constructor({DS:t}){Z(this,"subscribers",{}),Z(this,"DS",void 0),Z(this,"subscribe",(t,e)=>{Array.isArray(this.subscribers[t])||(this.subscribers[t]=[]);const s=this.subscribers[t];return s.push(e),s.length-1}),Z(this,"unsubscribe",(t,e,s)=>{var i,n;const r=null!==s&&void 0!==s?s:null===(i=this.subscribers[t])||void 0===i?void 0:i.findIndex(t=>t===e);null===(n=this.subscribers[t])||void 0===n||n.splice(Number(r),1)}),Z(this,"publish",(t,e)=>{Array.isArray(t)?t.forEach(t=>this._publish(t,e)):this._publish(t,e)}),Z(this,"_publish",(t,e)=>{var s;const i=null!==(s=this.subscribers[t])&&void 0!==s?s:[];t.includes(":pre")?this._handlePrePublish(i,e):this._handlePublish(i,e)}),Z(this,"_handlePublish",(t,e)=>{for(let i=0,n=t.length;i<n;i++){var s;if(this.DS.stopped)return;null===(s=t[i])||void 0===s||s.call(t,e)}}),Z(this,"_handlePrePublish",(t,e)=>{let s=t.length;while(s--){var i;if(this.DS.stopped)return;null===(i=t[s])||void 0===i||i.call(t,e)}}),this.DS=t}}const Dt=()=>{var t,e,s,i;return{y:(null===(t=document.body)||void 0===t?void 0:t.scrollTop)||(null===(e=document.documentElement)||void 0===e?void 0:e.scrollTop)||0,x:(null===(s=document.body)||void 0===s?void 0:s.scrollLeft)||(null===(i=document.documentElement)||void 0===i?void 0:i.scrollLeft)||0}},Pt=t=>!t||t instanceof Document?Dt():{x:t.scrollLeft>=0?t.scrollLeft:Dt().x,y:t.scrollTop>=0?t.scrollTop:Dt().y},xt=t=>{const e=Pt(t);return!(!e.x&&!e.y)||(t instanceof Document?t.body?$t(t.body):$t(t.documentElement):$t(t))},$t=t=>{const e=t.scrollTop,s=Boolean(t.scrollTop=1);return t.scrollTop=e,s};class It{constructor({DS:t,PS:e}){Z(this,"_initialVal",{x:0,y:0}),Z(this,"_currentVal",{x:0,y:0}),Z(this,"_canScroll",void 0),Z(this,"DS",void 0),Z(this,"PS",void 0),Z(this,"Settings",void 0),Z(this,"init",()=>this.addListeners()),Z(this,"addListeners",()=>this.DS.Area.HTMLNode.addEventListener("scroll",this.update)),Z(this,"removeListeners",()=>this.DS.Area.HTMLNode.removeEventListener("scroll",this.update)),Z(this,"start",()=>{this._currentVal=this._initialVal=Pt(this.DS.Area.HTMLNode)}),Z(this,"update",()=>this._currentVal=Pt(this.DS.Area.HTMLNode)),Z(this,"stop",()=>{this.reset(),this.removeListeners()}),Z(this,"reset",()=>{this._initialVal={x:0,y:0},this._canScroll=void 0}),this.DS=t,this.PS=e,this.Settings=this.DS.stores.SettingsStore.s,this.PS.subscribe("Area:modified",()=>{this.stop(),this.init()}),this.PS.subscribe("Interaction:init",this.init),this.PS.subscribe("Interaction:start",()=>this.start()),this.PS.subscribe("Interaction:end",()=>this.reset())}get canScroll(){return"boolean"===typeof this._canScroll?this._canScroll:this._canScroll=xt(this.DS.Area.HTMLNode)}get scrollAmount(){const t=st(this.currentVal,"-",this.initialVal),e=rt(this.Settings.zoom),s=st(st(t,"*",e),"-",t);return{x:t.x+s.x,y:t.y+s.y}}get initialVal(){return this._initialVal?this._initialVal:{x:0,y:0}}get currentVal(){return this._currentVal||(this._currentVal=Pt(this.DS.Area.HTMLNode)),this._currentVal}}class Ct extends Set{constructor({DS:t,PS:e}){super(),Z(this,"_rects",void 0),Z(this,"_timeout",void 0),Z(this,"DS",void 0),Z(this,"PS",void 0),Z(this,"Settings",void 0),Z(this,"init",()=>bt(this.Settings.selectables).forEach(t=>this.add(t))),Z(this,"clear",()=>this.forEach(t=>this.delete(t))),Z(this,"_onClick",t=>this.PS.publish(["Selectable:click:pre","Selectable:click"],{event:t})),Z(this,"_onPointer",t=>this.PS.publish(["Selectable:pointer:pre","Selectable:pointer"],{event:t})),Z(this,"addAll",t=>t.forEach(t=>this.add(t))),Z(this,"deleteAll",t=>t.forEach(t=>this.delete(t))),Z(this,"getElementRect",t=>this._rects?this._rects.get(t):t.getBoundingClientRect()),this.DS=t,this.PS=e,this.Settings=this.DS.stores.SettingsStore.s,this.PS.subscribe("Interaction:init",this.init),this.PS.subscribe("Settings:updated:selectables",()=>{this.clear(),this.init()}),this.PS.subscribe("Settings:updated:selectableClass",({settings:t})=>{this.forEach(e=>{e.classList.remove(t["selectableClass:pre"]),e.classList.add(t.selectableClass)})})}add(t){if(!t||super.has(t))return this;const e={items:this.elements,item:t};return this.PS.publish("Selectable:added:pre",e),t.classList.add(this.Settings.selectableClass),t.addEventListener("click",this._onClick),this.Settings.usePointerEvents?t.addEventListener("pointerdown",this._onPointer,{passive:!1}):t.addEventListener("mousedown",this._onPointer),t.addEventListener("touchstart",this._onPointer,{passive:!1}),this.Settings.draggability&&!this.Settings.useTransform&&Q({computedStyle:window.getComputedStyle(t),node:t}),this.PS.publish("Selectable:added",e),super.add(t)}delete(t){if(!t||!super.has(t))return!0;const e={items:this.elements,item:t};return this.PS.publish("Selectable:removed:pre",e),t.classList.remove(this.Settings.selectableClass),t.classList.remove(this.Settings.hoverClass),t.removeEventListener("click",this._onClick),this.Settings.usePointerEvents?t.removeEventListener("pointerdown",this._onPointer,{passive:!1}):t.removeEventListener("mousedown",this._onPointer),t.removeEventListener("touchstart",this._onPointer,{passive:!1}),this.PS.publish("Selectable:removed",e),super.delete(t)}get elements(){return Array.from(this.values())}get rects(){return this._rects||(this._rects=new Map,this.forEach(t=>{var e;return null===(e=this._rects)||void 0===e?void 0:e.set(t,t.getBoundingClientRect())}),this._timeout&&clearTimeout(this._timeout),this._timeout=setTimeout(()=>this._rects=void 0,this.Settings.refreshMemoryRate)),this._rects}}class Mt extends Set{constructor({DS:t,PS:e}){super(),Z(this,"_rects",void 0),Z(this,"_timeout",void 0),Z(this,"DS",void 0),Z(this,"PS",void 0),Z(this,"Settings",void 0),Z(this,"clear",()=>this.forEach(t=>this.delete(t))),Z(this,"addAll",t=>t.forEach(t=>this.add(t))),Z(this,"deleteAll",t=>t.forEach(t=>this.delete(t))),this.DS=t,this.PS=e,this.Settings=this.DS.stores.SettingsStore.s}add(t){if(!t||super.has(t))return this;const e={items:this.elements,item:t};return this.PS.publish("Selected:added:pre",e),super.add(t),t.classList.add(this.Settings.selectedClass),t.style.zIndex=""+((parseInt(t.style.zIndex)||0)+1),this.PS.publish("Selected:added",e),this}delete(t){if(!t||!super.has(t))return!0;const e={items:this.elements,item:t};this.PS.publish("Selected:removed:pre",e);const s=super.delete(t);return t.classList.remove(this.Settings.selectedClass),t.style.zIndex=""+((parseInt(t.style.zIndex)||0)-1),this.PS.publish("Selected:removed",e),s}toggle(t){return this.has(t)?this.delete(t):this.add(t),t}get elements(){return Array.from(this.values())}get rects(){return this._rects||(this._rects=new Map,this.forEach(t=>{var e;return null===(e=this._rects)||void 0===e?void 0:e.set(t,t.getBoundingClientRect())}),this._timeout&&clearTimeout(this._timeout),this._timeout=setTimeout(()=>this._rects=void 0,this.Settings.refreshMemoryRate)),this._rects}}const Ot=t=>{const e=document.createElement("div");return e.style.position="absolute",t||(e.style.background="rgba(0, 175, 255, 0.2)",e.style.border="1px solid rgba(0, 175, 255, 0.8)",e.style.display="none",e.style.pointerEvents="none"),e},Tt=({scrollAmount:t,initialPointerPos:e,pointerPos:s})=>{const i={};return s.x>e.x-t.x?(i.left=e.x-t.x,i.width=s.x-e.x+t.x):(i.left=s.x,i.width=e.x-s.x-t.x),s.y>e.y-t.y?(i.top=e.y-t.y,i.height=s.y-e.y+t.y):(i.top=s.y,i.height=e.y-s.y-t.y),i};var Et=(t,e)=>{e.left&&(t.style.left=e.left+"px"),e.top&&(t.style.top=e.top+"px"),e.width&&(t.style.width=e.width+"px"),e.height&&(t.style.height=e.height+"px")};class Lt{constructor({DS:t,PS:e}){Z(this,"_rect",void 0),Z(this,"DS",void 0),Z(this,"PS",void 0),Z(this,"Settings",void 0),Z(this,"HTMLNode",void 0),Z(this,"attachSelector",()=>{var t,e;this.HTMLNode&&null!==(t=this.DS.SelectorArea)&&void 0!==t&&t.HTMLNode&&this.DS.SelectorArea.HTMLNode.removeChild(this.HTMLNode),this.HTMLNode=this.Settings.selector||Ot(this.Settings.customStyles),this.HTMLNode.classList.add(this.Settings.selectorClass),this.HTMLNode&&null!==(e=this.DS.SelectorArea)&&void 0!==e&&e.HTMLNode&&this.DS.SelectorArea.HTMLNode.appendChild(this.HTMLNode)}),Z(this,"start",({isDragging:t})=>{if(t)return;const{stores:{PointerStore:e}}=this.DS,s=e.initialValArea;Et(this.HTMLNode,nt(s,1)),this.HTMLNode.style.display="block",this._rect=void 0}),Z(this,"stop",()=>{this.HTMLNode.style.width="0",this.HTMLNode.style.height="0",this.HTMLNode.style.display="none"}),Z(this,"update",({isDragging:t})=>{if(t||this.DS.continue)return;const{stores:{ScrollStore:e,PointerStore:s}}=this.DS,i=Tt({scrollAmount:e.scrollAmount,initialPointerPos:s.initialValArea,pointerPos:s.currentValArea});Et(this.HTMLNode,i),this._rect=void 0}),this.DS=t,this.PS=e,this.Settings=this.DS.stores.SettingsStore.s,this.HTMLNode=this.Settings.selector,this.PS.subscribe("Settings:updated:selectorClass",({settings:t})=>{this.HTMLNode.classList.remove(t["selectorClass:pre"]),this.HTMLNode.classList.add(t.selectorClass)}),this.PS.subscribe("Settings:updated:selector",this.attachSelector),this.PS.subscribe("Settings:updated:customStyles",this.attachSelector),this.attachSelector(),this.PS.subscribe("Interaction:start",this.start),this.PS.subscribe("Interaction:update",this.update),this.PS.subscribe("Interaction:end",this.stop)}get rect(){return this._rect?this._rect:this._rect=this.HTMLNode.getBoundingClientRect()}}const At=({element:t,force:e,multiSelectionToggle:s,SelectedSet:i,hoverClassName:n})=>{t.classList.contains(n)&&!e||(i.has(t)?s&&i.delete(t):i.add(t),t.classList.add(n))},Nt=({element:t,force:e,SelectedSet:s,PrevSelectedSet:i,hoverClassName:n})=>{if(!t.classList.contains(n)&&!e)return;const r=s.has(t),a=i.has(t);r&&!a?s.delete(t):!r&&a&&s.add(t),t.classList.remove(n)},jt=t=>{const e={top:Number.POSITIVE_INFINITY,left:Number.POSITIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,right:Number.NEGATIVE_INFINITY,width:Number.NEGATIVE_INFINITY,height:Number.NEGATIVE_INFINITY};return t.rects.forEach(t=>{e.top=Math.min(e.top,t.top||e.top),e.left=Math.min(e.left,t.left||e.left),e.bottom=Math.max(e.bottom,t.bottom||e.bottom),e.right=Math.max(e.right,t.right||e.right)}),e.height=e.bottom-e.top,e.width=e.right-e.left,e};class Wt{constructor({DS:t,PS:e}){Z(this,"_prevSelectedSet",new Set),Z(this,"_boundingRect",void 0),Z(this,"_timeout",void 0),Z(this,"DS",void 0),Z(this,"PS",void 0),Z(this,"Settings",void 0),Z(this,"start",({event:t,isDragging:e})=>{e||(this._storePrevious(t),this._handleInsideSelection(!0,t))}),Z(this,"update",({isDragging:t})=>{t||this.DS.continue||this._handleInsideSelection()}),Z(this,"_handleInsideSelection",(t,e)=>{const{SelectableSet:s,SelectorArea:i,Selector:n}=this.DS,r=this.DS.stores.KeyStore.isMultiSelectKeyPressed(e)&&this.Settings.multiSelectToggling,a=this.Settings.selectionThreshold,o=s.rects,c=n.rect,l=new Map,h=new Map;for(const[p,m]of o)i.isInside(p,m)&&(gt(m,c,a)?l.set(p,m):h.set(p,m));if(this.DS.continue)return;const{select:d,unselect:u}=this.filterSelected({select:l,unselect:h,selectorRect:c});d.forEach((e,s)=>At({element:s,force:t,multiSelectionToggle:r,SelectedSet:this.DS.SelectedSet,hoverClassName:this.Settings.hoverClass})),u.forEach((e,s)=>Nt({element:s,force:t,SelectedSet:this.DS.SelectedSet,hoverClassName:this.Settings.hoverClass,PrevSelectedSet:this._prevSelectedSet}))}),Z(this,"filterSelected",({select:t,unselect:e,selectorRect:s})=>({select:t,unselect:e})),this.DS=t,this.PS=e,this.Settings=this.DS.stores.SettingsStore.s,this.PS.subscribe("Interaction:start",this.start),this.PS.subscribe("Interaction:update",this.update)}_storePrevious(t){const{stores:{KeyStore:e},SelectedSet:s}=this.DS;e.isMultiSelectKeyPressed(t)?this._prevSelectedSet=new Set(s):this._prevSelectedSet=new Set}get boundingRect(){return this._boundingRect||(this._boundingRect=jt(this.DS.SelectedSet),this._timeout&&clearTimeout(this._timeout),this._timeout=setTimeout(()=>this._boundingRect=void 0,this.Settings.refreshMemoryRate)),this._boundingRect}}const zt=()=>{const t=document.createElement("div");return t.style.position="fixed",t.style.overflow="hidden",t.style.pointerEvents="none",t.style.zIndex="999999999999999999",t},Rt=({elementRect:t,containerRect:e,tolerance:s={x:0,y:0}})=>{const i=[];return t.top-s.y<e.top&&i.push("top"),t.left-s.x<e.left&&i.push("left"),t.bottom+s.y>e.bottom&&i.push("bottom"),t.right+s.y>e.right&&i.push("right"),i};class Vt{constructor({DS:t,PS:e}){Z(this,"_scrollInterval",void 0),Z(this,"_rect",void 0),Z(this,"currentEdges",[]),Z(this,"DS",void 0),Z(this,"PS",void 0),Z(this,"Settings",void 0),Z(this,"HTMLNode",void 0),Z(this,"init",()=>{this.applyElements("append"),this.updatePos()}),Z(this,"applyElements",t=>{const e=document.body?"body":"documentElement",s=t+"Child";this.HTMLNode[s](this.DS.Selector.HTMLNode),document[e][s](this.HTMLNode)}),Z(this,"updatePos",()=>{this._rect=void 0;const t=this.DS.Area.rect,e=this.DS.Area.computedBorder,{style:s}=this.HTMLNode,i=t.top+e.top+"px",n=t.left+e.left+"px",r=t.width+"px",a=t.height+"px";s.top!==i&&(s.top=i),s.left!==n&&(s.left=n),s.width!==r&&(s.width=r),s.height!==a&&(s.height=a)}),Z(this,"stop",t=>{this.stopAutoScroll(),t&&this.applyElements("remove")}),Z(this,"startAutoScroll",({isDraggingKeyboard:t})=>{t||(this.currentEdges=[],this._scrollInterval=setInterval(()=>this.handleAutoScroll(),16))}),Z(this,"handleAutoScroll",()=>{if(this.DS.continue)return;const{stores:{PointerStore:t},Area:e}=this.DS;this.currentEdges=Rt({elementRect:nt(t.currentVal),containerRect:this.rect,tolerance:this.Settings.overflowTolerance}),this.currentEdges.length&&e.scroll(this.currentEdges,this.Settings.autoScrollSpeed)}),Z(this,"stopAutoScroll",()=>{this.currentEdges=[],clearInterval(this._scrollInterval)}),Z(this,"isInside",(t,e)=>!(!this.DS.Area.HTMLNode.contains(t)||!this.DS.stores.ScrollStore.canScroll)||gt(this.rect,e||t.getBoundingClientRect())),this.DS=t,this.PS=e,this.Settings=this.DS.stores.SettingsStore.s,this.HTMLNode=zt(),this.PS.subscribe("Settings:updated:selectorAreaClass",({settings:t})=>{this.HTMLNode.classList.remove(t["selectorAreaClass:pre"]),this.HTMLNode.classList.add(t["selectorAreaClass"])}),this.HTMLNode.classList.add(this.Settings.selectorAreaClass),this.PS.subscribe("Area:modified",this.updatePos),this.PS.subscribe("Area:modified",this.updatePos),this.PS.subscribe("Interaction:init",this.init),this.PS.subscribe("Interaction:start",({isDraggingKeyboard:t})=>this.startAutoScroll({isDraggingKeyboard:t})),this.PS.subscribe("Interaction:end",()=>{this.updatePos(),this.stopAutoScroll()})}isClicked(t){const{stores:{PointerStore:e}}=this.DS,s=t?e.getPointerPosition(t):e.initialVal;return gt({left:s.x,top:s.y,right:s.x,bottom:s.y},this.rect)}get rect(){return this._rect?this._rect:this._rect=this.HTMLNode.getBoundingClientRect()}}const Bt=(t,e)=>console.warn(`[DragSelect] TypeIssue: setting "${t}" is not of type "${e}".`),Ht=(t,e,s,i)=>{if(void 0===e)return s?{[t]:i}:{};if(null===e)return{[t]:null};let n=!0,r=!1;const a="string"===typeof i;a&&(n="string"===typeof e||e instanceof String),a&&!n&&(r=!0,Bt(t,"string"));const o=!Number.isNaN(i)&&"number"===typeof i;o&&(n=!Number.isNaN(e)&&"number"===typeof e),o&&!n&&(r=!0,Bt(t,"number"));const c="[object Object]"===Object.prototype.toString.call(i);c&&(n="[object Object]"===Object.prototype.toString.call(e)),c&&!n&&(r=!0,Bt(t,"object"));const l="boolean"===typeof i;l&&(n="boolean"===typeof e),l&&!n&&(r=!0,Bt(t,"boolean"));const h=Array.isArray(i);h&&(n=Array.isArray(e)),h&&!n&&(r=!0,Bt(t,"array"));const d=r||s;return"dragKeys"===t&&n?{[t]:Object.assign(i,e)}:"dragKeys"!==t||n?("dropZones"===t&&n&&Array.isArray(e)&&new Set(e.map(t=>t.id)).size!==e.length&&console.warn('[DragSelect] UniqueConstraintsIssue: setting "dropZones" contains duplicate ids.'),n?{[t]:e}:d?{[t]:i}:{}):d?{[t]:i}:{}},Yt=(t,e)=>({...Ht("area",t.area,e,document),...Ht("selectables",t.selectables,e,null),...Ht("autoScrollSpeed",t.autoScrollSpeed,e,5),...Ht("overflowTolerance",t.overflowTolerance,e,{x:25,y:25}),...Ht("zoom",t.zoom,e,1),...Ht("customStyles",t.customStyles,e,!1),...Ht("multiSelectMode",t.multiSelectMode,e,!1),...Ht("multiSelectToggling",t.multiSelectToggling,e,!0),...Ht("multiSelectKeys",t.multiSelectKeys,e,["Control","Shift","Meta"]),...Ht("selector",t.selector,e,null),...Ht("selectionThreshold",t.selectionThreshold,e,0),...Ht("draggability",t.draggability,e,!0),...Ht("immediateDrag",t.immediateDrag,e,!0),...Ht("keyboardDrag",t.keyboardDrag,e,!0),...Ht("dragKeys",t.dragKeys,e,{up:["ArrowUp"],down:["ArrowDown"],left:["ArrowLeft"],right:["ArrowRight"]}),...Ht("keyboardDragSpeed",t.keyboardDragSpeed,e,10),...Ht("useTransform",t.useTransform,e,!0),...Ht("refreshMemoryRate",t.refreshMemoryRate,e,80),...Ht("dropZones",t.dropZones,e,[]),...Ht("dropInsideThreshold",t.dropInsideThreshold,e,1),...Ht("dropTargetThreshold",t.dropTargetThreshold,e,0),...Ht("usePointerEvents",t.usePointerEvents,e,!1),...Ht("hoverClass",t.hoverClass,e,"ds-hover"),...Ht("selectableClass",t.selectableClass,e,"ds-selectable"),...Ht("selectedClass",t.selectedClass,e,"ds-selected"),...Ht("selectorClass",t.selectorClass,e,"ds-selector"),...Ht("selectorAreaClass",t.selectorAreaClass,e,"ds-selector-area"),...Ht("droppedTargetClass",t.droppedTargetClass,e,"ds-dropped-target"),...Ht("droppedInsideClass",t.droppedInsideClass,e,"ds-dropped-inside"),...Ht("droppableClass",t.droppableClass,e,"ds-droppable"),...Ht("dropZoneClass",t.dropZoneClass,e,"ds-dropzone"),...Ht("dropZoneReadyClass",t.dropZoneReadyClass,e,"ds-dropzone-ready"),...Ht("dropZoneTargetClass",t.dropZoneTargetClass,e,"ds-dropzone-target"),...Ht("dropZoneInsideClass",t.dropZoneInsideClass,e,"ds-dropzone-inside")});class Ft{constructor({PS:t,settings:e}){Z(this,"_settings",{}),Z(this,"s",{}),Z(this,"PS",void 0),Z(this,"update",({settings:t,init:e})=>{this.PS.publish("Settings:updated:pre",{settings:this._settings,"settings:init":Boolean(e),"settings:new":t}),this._update({settings:t,init:e})}),Z(this,"_update",({settings:t={},init:e=!1})=>{const s=Yt(t,e);for(const[i,n]of Object.entries(s))((s,i)=>{s in this._settings||Object.defineProperty(this.s,s,{get:()=>this._settings[s],set:t=>this.update({settings:{[s]:t}})}),this._settings[s+":pre"]=this._settings[s],this._settings[s]=i;const n={settings:this._settings,"settings:init":e,"settings:new":t};this.PS.publish("Settings:updated",n),this.PS.publish("Settings:updated:"+s,n)})(i,n)}),this.PS=t,this.update({settings:e,init:!0})}}const Kt={elementselect:"DS:select",elementunselect:"DS:unselect",autoscroll:"DS:scroll",dragstart:"DS:start",dragmove:"DS:update",callback:"DS:end",preelementselect:"DS:select:pre",preelementunselect:"DS:unselect:pre",preautoscroll:"DS:scroll:pre",predragstart:"DS:start:pre",predragmove:"DS:update:pre",precallback:"DS:end:pre"},Ut=(t,e)=>{const s=e.DropZones.getTarget(t);return{...t,...s?{dropTarget:s.toObject()}:{}}},Zt=({PS:t,DS:e})=>{const s={"Selected:added":[{name:"preelementselect"},{name:"elementselect"},{name:"DS:select:pre"},{name:"DS:select"}],"Selected:removed":[{name:"preelementunselect"},{name:"elementunselect"},{name:"DS:unselect:pre"},{name:"DS:unselect"}],"Selectable:added":[{name:"DS:added:pre"},{name:"DS:added"}],"Selectable:removed":[{name:"DS:removed:pre"},{name:"DS:removed"}],"Area:scroll":[{name:"preautoscroll"},{name:"autoscroll"},{name:"DS:scroll:pre"},{name:"DS:scroll"}],"Interaction:start":[{name:"predragstart"},{name:"dragstart"},{name:"DS:start:pre"},{name:"DS:start"}],"Interaction:update":[{name:"predragmove",condition:t=>t.event?t:null},{name:"dragmove",condition:t=>t.event?t:null},{name:"DS:update:pre",condition:t=>t.event?t:null},{name:"DS:update",condition:t=>t.event?t:null}],"Interaction:end":[{name:"precallback",extraData:(t,e)=>Ut(t,e)},{name:"callback",extraData:(t,e)=>Ut(t,e)},{name:"DS:end:pre",extraData:(t,e)=>Ut(t,e)},{name:"DS:end",extraData:(t,e)=>Ut(t,e)}]};for(const[i,n]of Object.entries(s))Gt({sub_name:i,sub_pubs:n,DS:e,PS:t})},Gt=({sub_name:t,DS:e,PS:s,sub_pubs:i})=>{s.subscribe(t,t=>i.forEach(s=>qt({sub_pub:s,data:t,DS:e})))},qt=({sub_pub:t,data:e,DS:s})=>{const i=t.condition?t.condition(e,s):e;if(i){const n=t.extraData&&t.extraData(e,s)||{};s.publish(t.name,{items:s.SelectedSet.elements,isDragging:s.Interaction.isDragging,...i,...n})}};class Jt{constructor(t){Z(this,"continue",!1),Z(this,"PubSub",void 0),Z(this,"stores",void 0),Z(this,"Area",void 0),Z(this,"Selector",void 0),Z(this,"SelectorArea",void 0),Z(this,"SelectableSet",void 0),Z(this,"SelectedSet",void 0),Z(this,"Selection",void 0),Z(this,"Drag",void 0),Z(this,"DropZones",void 0),Z(this,"Interaction",void 0),Z(this,"stopped",void 0),Z(this,"subscribe",(t,e)=>{Kt[t]&&console.warn(`[DragSelect]: The event name "${t}" is deprecated and was/will be removed in a future version. Please use the new event name "${Kt[t]}" instead.`),this.PubSub.subscribe(t,e)}),Z(this,"unsubscribe",(t,e,s)=>this.PubSub.unsubscribe(t,e,s)),Z(this,"publish",(t,e)=>this.PubSub.publish(t,e)),Z(this,"start",()=>{this.stopped=!1,this.Interaction.init()}),Z(this,"break",()=>this.continue=!0),Z(this,"setSettings",t=>this.stores.SettingsStore.update({settings:t})),Z(this,"getSelection",()=>this.SelectedSet.elements),Z(this,"getSelectables",()=>this.SelectableSet.elements),Z(this,"getInitialCursorPosition",()=>this.stores.PointerStore.initialVal),Z(this,"getCurrentCursorPosition",()=>this.stores.PointerStore.currentVal),Z(this,"getPreviousCursorPosition",()=>this.stores.PointerStore.lastVal),Z(this,"getInitialCursorPositionArea",()=>this.stores.PointerStore.initialValArea),Z(this,"getCurrentCursorPositionArea",()=>this.stores.PointerStore.currentValArea),Z(this,"getPreviousCursorPositionArea",()=>this.stores.PointerStore.lastValArea),Z(this,"isMultiSelect",t=>this.stores.KeyStore.isMultiSelectKeyPressed(t)),Z(this,"isDragging",()=>this.Interaction.isDragging),Z(this,"getZoneByCoordinates",t=>{var e;return null===(e=this.DropZones.getTarget({coordinates:t}))||void 0===e?void 0:e.toObject()}),Z(this,"getItemsDroppedByZoneId",t=>this.DropZones.getItemsDroppedById(t)),Z(this,"getItemsInsideByZoneId",(t,e)=>this.DropZones.getItemsInsideById(t,e)),this.stopped=!1,this.PubSub=new kt({DS:this}),this.stores={},this.stores.SettingsStore=new Ft({settings:t,PS:this.PubSub}),this.stores.PointerStore=new _t({DS:this,PS:this.PubSub}),this.stores.ScrollStore=new It({DS:this,PS:this.PubSub}),this.stores.KeyStore=new St({DS:this,PS:this.PubSub}),this.Area=new et({DS:this,PS:this.PubSub}),this.Selector=new Lt({DS:this,PS:this.PubSub}),this.SelectorArea=new Vt({DS:this,PS:this.PubSub}),this.SelectableSet=new Ct({DS:this,PS:this.PubSub}),this.SelectedSet=new Mt({DS:this,PS:this.PubSub}),this.Selection=new Wt({DS:this,PS:this.PubSub}),this.Drag=new mt({DS:this,PS:this.PubSub}),this.DropZones=new yt({DS:this,PS:this.PubSub}),this.Interaction=new vt({DS:this,PS:this.PubSub}),Zt({DS:this,PS:this.PubSub}),this.PubSub.subscribe("Interaction:end",()=>this.continue=!1),this.PubSub.subscribe("DS:end",({items:t})=>this.continue=!1),this.start()}stop(t=!0,e=!0,s=!1){s&&this.publish("DS:end",{items:this.SelectedSet.elements,isDragging:this.Interaction.isDragging}),this.Interaction.stop(),this.Area.stop(),this.Drag.stop(),this.Selector.stop(),this.SelectorArea.stop(t),this.stores.KeyStore.stop(),this.stores.PointerStore.stop(),this.stores.ScrollStore.stop(),t&&this.SelectableSet.clear(),e&&this.SelectedSet.clear(),this.stopped=!0}addSelection(t,e=!1,s=!1){const i=bt(t);return this.SelectedSet.addAll(i),s||this.addSelectables(t,!1,!1),e&&this.PubSub.publish("DS:end",{items:this.SelectedSet.elements,isDragging:this.Interaction.isDragging}),this.getSelection()}removeSelection(t,e=!1,s=!1){const i=bt(t);return this.SelectedSet.deleteAll(i),s&&this.removeSelectables(t,!1,!1),e&&this.PubSub.publish("DS:end",{items:this.SelectedSet.elements,isDragging:this.Interaction.isDragging}),this.getSelection()}toggleSelection(t,e=!1,s=!1){const i=bt(t);return i.forEach(i=>this.SelectedSet.has(i)?this.removeSelection(t,e,s):this.addSelection(t,e,s)),e&&this.PubSub.publish("DS:end",{items:this.SelectedSet.elements,isDragging:this.Interaction.isDragging}),this.getSelection()}setSelection(t,e=!1,s=!1){return this.clearSelection(),this.addSelection(t,e,s),this.getSelection()}clearSelection(t=!1){return this.SelectedSet.clear(),t&&this.PubSub.publish("DS:end",{items:this.SelectedSet.elements,isDragging:this.Interaction.isDragging}),this.getSelection()}addSelectables(t,e,s){const i=bt(t);return this.SelectableSet.addAll(i),e&&this.SelectedSet.addAll(i),s&&this.PubSub.publish("DS:end",{items:this.SelectedSet.elements,isDragging:this.Interaction.isDragging}),i}removeSelectables(t,e,s){const i=bt(t);return this.SelectableSet.deleteAll(i),e&&this.removeSelection(t),s&&this.PubSub.publish("DS:end",{items:this.SelectedSet.elements,isDragging:this.Interaction.isDragging}),i}}Z(Jt,"isCollision",void 0),Jt.isCollision=gt;var Xt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("base-menu",{class:{inactive:!t.showMenu},style:t.menuOffset,attrs:{items:t.items}})},Qt=[],te={components:{BaseMenu:y},props:{data:Object},mixins:[A,S["a"],E["a"]],data(){return{showMenu:null!==this.data,menuOffset:null,isDownloadable:null,isWithinArchive:!1,fileName:""}},computed:{items(){return[{label:this.$t("open"),bold:!0,click:this.open,hasDivider:!0,test:"open"},{label:this.$t("extract-here"),click:()=>this.extractHere(this.data.path),hidden:this.isWithinArchive||this.data&&!Object(I["d"])(this.data.path),hasDivider:!0,test:"extract-here"},{label:this.$t("send-to")+" Desktop",click:this.sendToDesktop,hidden:this.isWithinArchive,hasDivider:!0,test:"sendto"},Object(O["d"])()&&{label:this.$t("download"),click:()=>this.download(this.data.path),hidden:!this.isDownloadable,test:"download"},{label:this.$t("cut"),click:this.cut,disabled:this.isWithinArchive,test:"cut"},{label:this.$t("copy"),click:this.copy,disabled:this.isWithinArchive,hasDivider:!0,test:"copy"},{label:this.$t("delete"),click:this.delete,disabled:this.isWithinArchive,test:"delete"},{label:this.$t("rename"),click:this.rename,hasDivider:!0,hidden:this.isWithinArchive,test:"rename"},{label:this.$t("properties"),click:()=>{},disabled:!0,test:"properties"}].filter(Boolean)}},watch:{data(t){if(this.showMenu=null!==t,!t)return;const{x:e,y:s,path:i}=t,{offsetWidth:n,offsetHeight:r}=this.$el,{offsetWidth:a,offsetHeight:o}=this.$parent.$el;this.parseInfo(i),this.menuOffset={left:(e+n<a?e:e-n)+"px",top:(s+r<o?s:s-r)+"px"}}},methods:{async parseInfo(t){const{ext:e}=Object(I["r"])(t);this.fileName=Object(I["c"])(t),this.isDownloadable=e&&"lnk"!==e,this.isWithinArchive=Object(L["b"])(t)},open(){this.$root.$emit(B["c"].OpenExplorerItem,this.data.path),this.closeMenu()},sendToDesktop(){const{name:t}=Object(I["r"])(this.fileName),e=Object(C["e"])(this.fileName),s=Object(C["b"])(this.fileName);this.$store.dispatch(v["a"].ShortcutAdd,{lbl:Object(C["a"])(t+" - Shortcut.lnk",this.shortcuts),key:s,icon:e,data:JSON.stringify({exe:s,icon:e,path:this.data.path}),type:"shortcut"}),this.closeMenu()},cut(){this.$store.commit(v["a"].ClipboardItem,{path:this.data.path,action:"cut"}),this.closeMenu()},copy(){this.$store.commit(v["a"].ClipboardItem,{path:this.data.path,action:"copy"}),this.closeMenu()},async delete(){try{await this.$store.dispatch(v["a"].TrashAdd,this.data.path)}catch(t){this.emitError(t.message||t)}this.closeMenu()},rename(){this.$root.$emit(B["c"].RenameExplorerItem,this.data.path),this.closeMenu()}}},ee=te,se=Object(b["a"])(ee,Xt,Qt,!1,null,null,null),ie=se.exports,ne=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("winui-menu",{class:["can-hover",{inactive:!t.showMenu}],style:t.menuOffset},[s("winui-menuitem",{attrs:{"aria-disabled":""}},[t._v(" "+t._s(t.$t("view"))+" "),s("winui-menu",t._l(t.viewModes,(function(e){return s("winui-menuitem",{key:e.value,attrs:{option:t.viewOption(e.value),value:t.viewMode},on:{input:t.changeViewMode}},[t._v(" "+t._s(e.label)+" ")])})),1)],1),s("winui-menuitem",{staticClass:"has-divider"},[s("button",{on:{click:t.refresh}},[t._v(" "+t._s(t.$t("refresh"))+" ")])]),t.isBin?s("winui-menuitem",{attrs:{"aria-disabled":!t.trash.length}},[s("icon",{attrs:{id:"bin",icon:t.icon.bin}}),s("button",{on:{click:t.emptyBin}},[t._v(" "+t._s(t.$t("empty-bin"))+" ")])],1):s("winui-menuitem",{attrs:{"aria-disabled":!t.path||!t.clipboardItem}},[s("button",{on:{click:function(e){return t.paste(t.path)}}},[t._v(" "+t._s(t.$t("paste"))+" ")])]),s("winui-menuitem",{attrs:{"aria-disabled":!t.path}},[s("button",{on:{click:function(e){return t.copyPath(t.path)}}},[t._v(" "+t._s(t.$t("copy-path"))+" ")])]),s("winui-menuitem",{staticClass:"has-divider",attrs:{"aria-disabled":!t.path||t.isLimited}},[s("button",{on:{click:function(e){return t.upload(t.path)}}},[t._v(" "+t._s(t.$t("upload-files-here"))+" ")])]),t.path&&!t.isLimited?s("winui-menuitem",[t._v(" "+t._s(t.$t("new"))+" "),s("winui-menu",{style:t.subOffset},[s("winui-menuitem",{staticClass:"has-divider"},[s("img",{attrs:{src:t.icon.folder}}),s("button",{on:{click:function(e){return t.makeFolder(t.path)}}},[t._v(t._s(t.$t("folder")))])]),s("winui-menuitem",[s("img",{attrs:{src:t.icon.richtext}}),s("button",{on:{click:function(e){return t.makeRichtext(t.path)}}},[t._v(t._s(t.$t("rich-text-document")))])]),s("winui-menuitem",[s("img",{attrs:{src:t.icon.text}}),s("button",{on:{click:function(e){return t.makeText(t.path)}}},[t._v(t._s(t.$t("text-document")))])])],1)],1):t._e(),t.path&&!t.isLimited?s("hr"):t._e(),s("winui-menuitem",{attrs:{"aria-disabled":""}},[s("button",[t._v(" "+t._s(t.$t("properties"))+" ")])])],1)},re=[],ae=s("fff3"),oe={components:{Icon:p["a"]},mixins:[ae["a"],H["a"]],props:{data:Object},data(){return{menuOffset:null,subOffset:null,viewOption:t=>({as:"radio",id:"view-"+t,name:"view-mode",nativeValue:t})}},computed:{...Object(a["d"])(["trash"]),...Object(a["c"])(["themeData"]),icon(){return{text:this.themeData.icon["text-s"],folder:this.themeData.icon["folder-s"],shortcut:this.themeData.icon["shortcut"],richtext:this.themeData.icon.wordpad,bin:this.themeData.icon.bin}},path(){return this.data&&this.data.path?this.data.path:null},isBin(){return this.data&&this.data.isBin},isLimited(){return this.isBin||Object(L["b"])(this.path)}},watch:{async data(t){if(this.showMenu=null!==t,!t)return;const{offsetWidth:e,offsetHeight:s}=this.$el,{offsetWidth:i,offsetHeight:n}=this.$parent.$el,{x:r,y:a}=t;this.menuOffset={left:(r+e<i?r:r-e)+"px",top:(a+s<n?a:a-s)+"px"},this.subOffset={left:r+2*e>i?"initial":"100%",right:r+2*e>i?"100%":""}},async path(t){this.viewMode=await this.getViewMode(t)}},async mounted(){this.viewMode=await this.getViewMode(this.path)},methods:{_emitToExplorer(t,e){this.$root.$emit(t,e)},refresh(){this.$store.commit(v["a"].ForceUpdate),this._emitToExplorer(B["c"].Refresh),this.closeMenu()},async emptyBin(){try{const t=this.trash.map(t=>this.$store.dispatch(v["a"].TrashRemove,t));await Promise.all(t)}catch(t){Object(w["l"])(t.message||t)}this.closeMenu()},changeViewMode(t){this.setViewMode(this.path,t),this.closeMenu()}}},ce=oe,le=Object(b["a"])(ce,ne,re,!1,null,null,null),he=le.exports,de=s("5a16"),ue=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{on:{click:t.showPricing}},[s("p",[t._v("Win7 Simu")]),s("p",[t._v(t._s(t.$t("version"))+" "+t._s(t.version))]),s("p",[t._v(t._s(t.$t("contains-ads")))])])},pe=[],me=s("9224"),ge={data(){return{version:me["b"]}},computed:{...Object(a["d"])(["showAds"])},methods:{showPricing(){this.$root.$emit(v["a"].Pricing,!0)}}},be=ge,fe=(s("04ae"),Object(b["a"])(be,ue,pe,!1,null,"972d0762",null)),ye=fe.exports,ve=s("91ba"),Se=s.n(ve),we=s("ecae"),_e=s("2ea7"),ke={mounted(){_e["a"].on("alt+d",()=>this.minimizeAll(),"Show desktop"),_e["a"].on("alt+w",()=>this.$store.commit(v["a"].Start),"Open/close start menu"),_e["a"].on("alt+e",()=>this.$root.$emit(B["c"].OpenWindow,"computer"),"Open Computer"),_e["a"].on("alt+r",()=>this.$root.$emit(B["c"].OpenWindow,"run"),"Open Run"),_e["a"].on("alt+l",()=>this.$root.$emit(B["c"].ChangeView,B["d"].Switch),"Switch users"),_e["a"].on("shift+tab",()=>{},"Switch windows")},beforeDestroy(){_e["a"].off("alt+d"),_e["a"].off("alt+w"),_e["a"].off("alt+e"),_e["a"].off("alt+r"),_e["a"].off("alt+l"),_e["a"].off("shift+tab")},methods:{minimizeAll(){this.$store.state.windows.forEach(({id:t})=>this.$store.commit(v["a"].WindowUpdate,{id:t,minimized:!0}))}}},De={methods:{hidePopups(t){t&&t.target&&(t.target.closest(".taskbar-popup")||this.$store.commit(v["a"].Popup,null),t.target.closest("#start-menu")||t.target.closest("#start-screen")||t.target===this.$el.querySelector("#start-button")||this.$store.commit(v["a"].Start,!1))}}};let Pe=!1;var xe={mixins:[H["a"],we["a"],De,ke],data(){return{menuOffset:null,itemMenuData:null,renameItem:null,explorerMenuData:null,explorerItemMenuData:null,explorerItemMenuHost:null,dragSelect:null}},computed:{...Object(a["d"])(["showIcons","autoIcons","windows","showAds","desktopPath"]),...Object(a["d"])({gadgets:t=>t.gadgets.gadgets}),...Object(a["c"])(["themeData"]),isMacos(){return"macos"===this.$store.state.theme},isUbuntu(){return"ubuntu"===this.$store.state.theme},desktopStyle(){return{"--shortcut":`url('${this.themeData.icon.shortcut}')`}}},watch:{autoIcons(t){this.dragSelect.setSettings({draggability:!t})},renameItem(t){this.dragSelect.setSettings({keyboardDrag:!t})},async items(){await this.$nextTick(),this.dragSelect.setSettings({selectables:this.$refs.Icons.map(t=>t.$el)})}},mounted(){this.$root.$on(B["c"].OpenMenu,this.openItemMenu),this.$root.$on(B["c"].OpenExplorerMenu,this.openExplorerMenu),Pe||(Pe=!0,window.addEventListener("touchstart",this.closeMenus),window.addEventListener("mousedown",this.closeMenus)),Se()("#desktop",{onDrop:t=>{this._parse(t,this.desktopPath)}}),this.dragSelect=new Jt({draggability:!this.autoIcons,keyboardDrag:!1,area:this.$refs.Desktop,selectables:this.$refs.Icons.map(t=>t.$el),selectedClass:"active"}),this.dragSelect.subscribe("DS:end",({items:t,isDragging:e})=>{if(e){const e=t.map(t=>{const{x:e,y:s}=t.getBoundingClientRect();return{key:t.dataset.key,x:e,y:s}});this.emitDrag(e)}})},destroyed(){Pe=!1,window.removeEventListener("touchstart",this.closeMenus),window.removeEventListener("mousedown",this.closeMenus),this.$root.$off(B["c"].OpenMenu),this.$root.$off(B["c"].OpenExplorerMenu),this.dragSelect.stop()},methods:{getComponent(t){return t.startsWith("web_")?"webapp":t.startsWith("game_")?"online-game":t.startsWith("message_")?"message":t},getCoords(t){return{x:t.clientX+.5||t.touches[0].clientX,y:t.clientY+.5||t.touches[0].clientY}},openMenu(t){if(t.preventDefault(),t.target!==this.$refs.Desktop&&!t.target.className.includes("icons"))return;const{x:e,y:s}=this.getCoords(t);this.menuOffset={x:e,y:s},this.dragSelect.clearSelection(),this.hidePopups(t)},openItemMenu({e:t,id:e}){t.preventDefault(),t.stopPropagation();const{x:s,y:i}=this.getCoords(t),n=this.$refs.Icons.find(t=>t.item.key===e);this.itemMenuData={x:s,y:i,id:e},this.hidePopups(t),n&&this.dragSelect.setSelection(n.$el)},openExplorerMenu({e:t,type:e,host:s,...i}){t.preventDefault(),t.stopPropagation();const{x:n,y:r}=this.getCoords(t),a={x:n,y:r,...i};"back"===e?this.explorerMenuData=a:(this.explorerItemMenuData=a,this.explorerItemMenuHost=s)},closeMenus({target:t}){t.closest(".winui-menu")||(this.$root.$emit(B["c"].CloseMenu),this.menuOffset=null,this.itemMenuData=null,this.explorerMenuData=null,this.explorerItemMenuData=null)},handleClickOutside(t){this.dragSelect.removeSelection(t)},toggleRenaming(t){this.renameItem=t},refresh(){this.$refs.Icons.forEach(({$el:t})=>{t.style.opacity=0,setTimeout(()=>t.style.opacity=null,100)})}},components:{DesktopMenu:U,DesktopItemMenu:z,ExplorerMenu:he,ExplorerItemMenu:ie,BinItemMenu:P,ItemIcon:de["a"],PurchaseSub:ye,About:()=>Promise.all([s.e("about~bin~bsod~calc~camera~chrome~cmd~computer~cpanel~g-battery~g-calendar~g-clock~g-currency~g-weat~ebe0d192"),s.e("about")]).then(s.bind(null,"84ba")),Calc:()=>Promise.all([s.e("about~bin~bsod~calc~camera~chrome~cmd~computer~cpanel~g-battery~g-calendar~g-clock~g-currency~g-weat~ebe0d192"),s.e("calc")]).then(s.bind(null,"d238")),Ie:()=>Promise.all([s.e("about~bin~bsod~calc~camera~chrome~cmd~computer~cpanel~g-battery~g-calendar~g-clock~g-currency~g-weat~ebe0d192"),s.e("bin~bsod~camera~computer~cpanel~ie~minesweeper~notepad~paint~photo~player~purbleplace~recorder~snipp~c59c7086"),s.e("ie")]).then(s.bind(null,"a6f1")),Chrome:()=>Promise.all([s.e("about~bin~bsod~calc~camera~chrome~cmd~computer~cpanel~g-battery~g-calendar~g-clock~g-currency~g-weat~ebe0d192"),s.e("chrome")]).then(s.bind(null,"f824")),Notepad:()=>Promise.all([s.e("about~bin~bsod~calc~camera~chrome~cmd~computer~cpanel~g-battery~g-calendar~g-clock~g-currency~g-weat~ebe0d192"),s.e("bin~bsod~camera~computer~cpanel~ie~minesweeper~notepad~paint~photo~player~purbleplace~recorder~snipp~c59c7086"),s.e("computer"),s.e("notepad~themestudio"),s.e("notepad")]).then(s.bind(null,"ec28")),Snipping:()=>Promise.all([s.e("about~bin~bsod~calc~camera~chrome~cmd~computer~cpanel~g-battery~g-calendar~g-clock~g-currency~g-weat~ebe0d192"),s.e("bin~bsod~camera~computer~cpanel~ie~minesweeper~notepad~paint~photo~player~purbleplace~recorder~snipp~c59c7086"),s.e("computer"),s.e("snipping")]).then(s.bind(null,"036c")),Player:()=>Promise.all([s.e("about~bin~bsod~calc~camera~chrome~cmd~computer~cpanel~g-battery~g-calendar~g-clock~g-currency~g-weat~ebe0d192"),s.e("bin~bsod~camera~computer~cpanel~ie~minesweeper~notepad~paint~photo~player~purbleplace~recorder~snipp~c59c7086"),s.e("computer"),s.e("player")]).then(s.bind(null,"05f8")),Photo:()=>Promise.all([s.e("about~bin~bsod~calc~camera~chrome~cmd~computer~cpanel~g-battery~g-calendar~g-clock~g-currency~g-weat~ebe0d192"),s.e("bin~bsod~camera~computer~cpanel~ie~minesweeper~notepad~paint~photo~player~purbleplace~recorder~snipp~c59c7086"),s.e("photo")]).then(s.bind(null,"1fe0")),Personalize:()=>Promise.all([s.e("about~bin~bsod~calc~camera~chrome~cmd~computer~cpanel~g-battery~g-calendar~g-clock~g-currency~g-weat~ebe0d192"),s.e("chunk-2d0d3b13"),s.e("personalize")]).then(s.bind(null,"f9da")),Screensaver:()=>Promise.all([s.e("about~bin~bsod~calc~camera~chrome~cmd~computer~cpanel~g-battery~g-calendar~g-clock~g-currency~g-weat~ebe0d192"),s.e("screensaver")]).then(s.bind(null,"e865")),Bin:()=>Promise.all([s.e("about~bin~bsod~calc~camera~chrome~cmd~computer~cpanel~g-battery~g-calendar~g-clock~g-currency~g-weat~ebe0d192"),s.e("bin~bsod~camera~computer~cpanel~ie~minesweeper~notepad~paint~photo~player~purbleplace~recorder~snipp~c59c7086"),s.e("bin")]).then(s.bind(null,"2cb4")),Computer:()=>Promise.all([s.e("about~bin~bsod~calc~camera~chrome~cmd~computer~cpanel~g-battery~g-calendar~g-clock~g-currency~g-weat~ebe0d192"),s.e("bin~bsod~camera~computer~cpanel~ie~minesweeper~notepad~paint~photo~player~purbleplace~recorder~snipp~c59c7086"),s.e("computer")]).then(s.bind(null,"13a7")),Cmd:()=>Promise.all([s.e("about~bin~bsod~calc~camera~chrome~cmd~computer~cpanel~g-battery~g-calendar~g-clock~g-currency~g-weat~ebe0d192"),s.e("cmd")]).then(s.bind(null,"d75f")),Cpanel:()=>Promise.all([s.e("about~bin~bsod~calc~camera~chrome~cmd~computer~cpanel~g-battery~g-calendar~g-clock~g-currency~g-weat~ebe0d192"),s.e("bin~bsod~camera~computer~cpanel~ie~minesweeper~notepad~paint~photo~player~purbleplace~recorder~snipp~c59c7086"),s.e("cpanel")]).then(s.bind(null,"2843")),Mouse:()=>Promise.all([s.e("about~bin~bsod~calc~camera~chrome~cmd~computer~cpanel~g-battery~g-calendar~g-clock~g-currency~g-weat~ebe0d192"),s.e("mouse")]).then(s.bind(null,"43c1")),Region:()=>Promise.all([s.e("about~bin~bsod~calc~camera~chrome~cmd~computer~cpanel~g-battery~g-calendar~g-clock~g-currency~g-weat~ebe0d192"),s.e("region")]).then(s.bind(null,"26fb")),Taskbar:()=>Promise.all([s.e("about~bin~bsod~calc~camera~chrome~cmd~computer~cpanel~g-battery~g-calendar~g-clock~g-currency~g-weat~ebe0d192"),s.e("taskbar")]).then(s.bind(null,"f697")),Paint:()=>Promise.all([s.e("about~bin~bsod~calc~camera~chrome~cmd~computer~cpanel~g-battery~g-calendar~g-clock~g-currency~g-weat~ebe0d192"),s.e("bin~bsod~camera~computer~cpanel~ie~minesweeper~notepad~paint~photo~player~purbleplace~recorder~snipp~c59c7086"),s.e("computer"),s.e("paint~wordpad"),s.e("paint")]).then(s.bind(null,"0764")),Gadgets:()=>Promise.all([s.e("about~bin~bsod~calc~camera~chrome~cmd~computer~cpanel~g-battery~g-calendar~g-clock~g-currency~g-weat~ebe0d192"),s.e("gadgets")]).then(s.bind(null,"e908")),GadgetClock:()=>Promise.all([s.e("about~bin~bsod~calc~camera~chrome~cmd~computer~cpanel~g-battery~g-calendar~g-clock~g-currency~g-weat~ebe0d192"),s.e("g-clock")]).then(s.bind(null,"d92d")),GadgetCalendar:()=>Promise.all([s.e("about~bin~bsod~calc~camera~chrome~cmd~computer~cpanel~g-battery~g-calendar~g-clock~g-currency~g-weat~ebe0d192"),s.e("g-calendar")]).then(s.bind(null,"7985")),GadgetCurrency:()=>Promise.all([s.e("about~bin~bsod~calc~camera~chrome~cmd~computer~cpanel~g-battery~g-calendar~g-clock~g-currency~g-weat~ebe0d192"),s.e("localforage"),s.e("g-currency")]).then(s.bind(null,"e0c2")),GadgetWeather:()=>Promise.all([s.e("about~bin~bsod~calc~camera~chrome~cmd~computer~cpanel~g-battery~g-calendar~g-clock~g-currency~g-weat~ebe0d192"),s.e("g-weather")]).then(s.bind(null,"b3e2")),GadgetBattery:()=>Promise.all([s.e("about~bin~bsod~calc~camera~chrome~cmd~computer~cpanel~g-battery~g-calendar~g-clock~g-currency~g-weat~ebe0d192"),s.e("g-battery")]).then(s.bind(null,"d075")),Games:()=>Promise.all([s.e("about~bin~bsod~calc~camera~chrome~cmd~computer~cpanel~g-battery~g-calendar~g-clock~g-currency~g-weat~ebe0d192"),s.e("games")]).then(s.bind(null,"0a54")),Purbleplace:()=>Promise.all([s.e("about~bin~bsod~calc~camera~chrome~cmd~computer~cpanel~g-battery~g-calendar~g-clock~g-currency~g-weat~ebe0d192"),s.e("bin~bsod~camera~computer~cpanel~ie~minesweeper~notepad~paint~photo~player~purbleplace~recorder~snipp~c59c7086"),s.e("purbleplace")]).then(s.bind(null,"a0fc")),Minesweeper:()=>Promise.all([s.e("about~bin~bsod~calc~camera~chrome~cmd~computer~cpanel~g-battery~g-calendar~g-clock~g-currency~g-weat~ebe0d192"),s.e("bin~bsod~camera~computer~cpanel~ie~minesweeper~notepad~paint~photo~player~purbleplace~recorder~snipp~c59c7086"),s.e("minesweeper")]).then(s.bind(null,"7db6")),Solitaire:()=>Promise.all([s.e("about~bin~bsod~calc~camera~chrome~cmd~computer~cpanel~g-battery~g-calendar~g-clock~g-currency~g-weat~ebe0d192"),s.e("bin~bsod~camera~computer~cpanel~ie~minesweeper~notepad~paint~photo~player~purbleplace~recorder~snipp~c59c7086"),s.e("solitaire")]).then(s.bind(null,"7290")),Tetris:()=>Promise.all([s.e("about~bin~bsod~calc~camera~chrome~cmd~computer~cpanel~g-battery~g-calendar~g-clock~g-currency~g-weat~ebe0d192"),s.e("bin~bsod~camera~computer~cpanel~ie~minesweeper~notepad~paint~photo~player~purbleplace~recorder~snipp~c59c7086"),s.e("tetris")]).then(s.bind(null,"7ded")),OnlineGame:()=>Promise.all([s.e("about~bin~bsod~calc~camera~chrome~cmd~computer~cpanel~g-battery~g-calendar~g-clock~g-currency~g-weat~ebe0d192"),s.e("onlinegame")]).then(s.bind(null,"a4d9")),Shortcut:()=>Promise.all([s.e("about~bin~bsod~calc~camera~chrome~cmd~computer~cpanel~g-battery~g-calendar~g-clock~g-currency~g-weat~ebe0d192"),s.e("shortcutwiz")]).then(s.bind(null,"4877")),Sticky:()=>Promise.all([s.e("about~bin~bsod~calc~camera~chrome~cmd~computer~cpanel~g-battery~g-calendar~g-clock~g-currency~g-weat~ebe0d192"),s.e("stickynotes")]).then(s.bind(null,"3f09")),Camera:()=>Promise.all([s.e("about~bin~bsod~calc~camera~chrome~cmd~computer~cpanel~g-battery~g-calendar~g-clock~g-currency~g-weat~ebe0d192"),s.e("bin~bsod~camera~computer~cpanel~ie~minesweeper~notepad~paint~photo~player~purbleplace~recorder~snipp~c59c7086"),s.e("computer"),s.e("camera")]).then(s.bind(null,"50cf")),Recorder:()=>Promise.all([s.e("about~bin~bsod~calc~camera~chrome~cmd~computer~cpanel~g-battery~g-calendar~g-clock~g-currency~g-weat~ebe0d192"),s.e("bin~bsod~camera~computer~cpanel~ie~minesweeper~notepad~paint~photo~player~purbleplace~recorder~snipp~c59c7086"),s.e("computer"),s.e("recorder")]).then(s.bind(null,"39f2")),Wordpad:()=>Promise.all([s.e("about~bin~bsod~calc~camera~chrome~cmd~computer~cpanel~g-battery~g-calendar~g-clock~g-currency~g-weat~ebe0d192"),s.e("bin~bsod~camera~computer~cpanel~ie~minesweeper~notepad~paint~photo~player~purbleplace~recorder~snipp~c59c7086"),s.e("computer"),s.e("paint~wordpad"),s.e("wordpad")]).then(s.bind(null,"a5de")),Taskmgr:()=>Promise.all([s.e("about~bin~bsod~calc~camera~chrome~cmd~computer~cpanel~g-battery~g-calendar~g-clock~g-currency~g-weat~ebe0d192"),s.e("taskmgr")]).then(s.bind(null,"7ea3")),Run:()=>Promise.all([s.e("about~bin~bsod~calc~camera~chrome~cmd~computer~cpanel~g-battery~g-calendar~g-clock~g-currency~g-weat~ebe0d192"),s.e("run")]).then(s.bind(null,"b7d4")),Dock:()=>s.e("dock").then(s.bind(null,"df21")),DockUbuntu:()=>s.e("dockubuntu").then(s.bind(null,"11bc")),Magnifier:()=>Promise.all([s.e("about~bin~bsod~calc~camera~chrome~cmd~computer~cpanel~g-battery~g-calendar~g-clock~g-currency~g-weat~ebe0d192"),s.e("magnifier")]).then(s.bind(null,"42d3")),Themestudio:()=>Promise.all([s.e("about~bin~bsod~calc~camera~chrome~cmd~computer~cpanel~g-battery~g-calendar~g-clock~g-currency~g-weat~ebe0d192"),s.e("bin~bsod~camera~computer~cpanel~ie~minesweeper~notepad~paint~photo~player~purbleplace~recorder~snipp~c59c7086"),s.e("notepad~themestudio"),s.e("themestudio")]).then(s.bind(null,"b64d")),Installer:()=>Promise.all([s.e("about~bin~bsod~calc~camera~chrome~cmd~computer~cpanel~g-battery~g-calendar~g-clock~g-currency~g-weat~ebe0d192"),s.e("installer~windows"),s.e("installer")]).then(s.bind(null,"8284")),Webapp:()=>Promise.all([s.e("about~bin~bsod~calc~camera~chrome~cmd~computer~cpanel~g-battery~g-calendar~g-clock~g-currency~g-weat~ebe0d192"),s.e("webapp")]).then(s.bind(null,"4a56")),Bsod:()=>Promise.all([s.e("about~bin~bsod~calc~camera~chrome~cmd~computer~cpanel~g-battery~g-calendar~g-clock~g-currency~g-weat~ebe0d192"),s.e("bin~bsod~camera~computer~cpanel~ie~minesweeper~notepad~paint~photo~player~purbleplace~recorder~snipp~c59c7086"),s.e("computer"),s.e("bsod")]).then(s.bind(null,"9ed9")),Mediacenter:()=>Promise.all([s.e("about~bin~bsod~calc~camera~chrome~cmd~computer~cpanel~g-battery~g-calendar~g-clock~g-currency~g-weat~ebe0d192"),s.e("mediacenter")]).then(s.bind(null,"8ff5")),Message:()=>s.e("messages").then(s.bind(null,"628a"))}},$e=xe,Ie=(s("ffd3"),Object(b["a"])($e,o,c,!1,null,"62112171",null)),Ce=Ie.exports,Me=s("63fa"),Oe=s("765a"),Te=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.isMacos?s("menubar-mac"):t.isUbuntu?s("menubar-ubuntu"):s("taskbar")},Ee=[],Le=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"menubar"}},[s("launchpad"),s("div",{staticClass:"h-full",attrs:{id:"menubar-items"}},[s("button",{staticClass:"px-5 mx-2",on:{click:function(e){return e.stopPropagation(),t.toggleMenu(e)}}},[s("i",{staticClass:"fa fa-apple fa-lg"})]),s("winui-menu",{directives:[{name:"show",rawName:"v-show",value:t.activePopup===t.menuId,expression:"activePopup === menuId"}],staticClass:"ml-2"},t._l(t.menuItems,(function(e,i){return s("winui-menuitem",{key:i,class:{"has-divider":[1,2].includes(i)}},[s("button",{on:{click:e.click}},[t._v(t._s(e.text))])])})),1),t.activeWindow?s("button",{staticClass:"font-bold"},[t._v(" "+t._s(t.activeWindowTitle)+" ")]):t._e()],1),s("div",{staticClass:"flex items-center",attrs:{id:"menubar-tray"}},[s("network"),s("battery"),s("date-time")],1)],1)},Ae=[],Ne=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{directives:[{name:"frag",rawName:"v-frag"}]},[s("taskbar-popup",{directives:[{name:"show",rawName:"v-show",value:t.showPopup,expression:"showPopup"}],scopedSlots:t._u([t.isMacOs?{key:"top",fn:function(){return[s("div",[s("div",{staticClass:"flex justify-between mb-2"},[s("span",{staticClass:"font-bold"},[t._v(t._s(t.$t("battery")))]),s("span",[t._v(t._s(t.level.toFixed(0))+"%")])]),s("div",[t._v(" "+t._s(t.$t("power-source"))+": "+t._s(t.$t(t.isCharging?"power-adapter":"battery"))+" ")])])]},proxy:!0}:{key:"top",fn:function(){return[s("div",{attrs:{id:"battery-3d"}},[s("div",{ref:"Gauge3D",staticClass:"gauge"}),s("div",{staticClass:"shadow"})]),s("span",{attrs:{id:"battery-text"}},[t._v(" "+t._s(t.level.toFixed(0))+"% "+t._s(t.$t("remaining"))+" ")])]},proxy:!0},{key:"body",fn:function(){return[s("div",{staticClass:"mb-1"},[t._v(t._s(t.$t("select-power-plan"))+":")]),s("div",{staticClass:"mb-1"},[s("winui-radio",{attrs:{"native-value":"1",id:"power-balance",name:"power-plan"},model:{value:t.brightness,callback:function(e){t.brightness=e},expression:"brightness"}},[t._v(" "+t._s(t.$t("balanced"))+" ")])],1),s("div",[s("winui-radio",{attrs:{"native-value":"0.6",id:"power-saver",name:"power-plan"},model:{value:t.brightness,callback:function(e){t.brightness=e},expression:"brightness"}},[t._v(" "+t._s(t.$t("power-saver"))+" ")])],1)]},proxy:!0},{key:"bottom",fn:function(){return[s("div",{class:["mb-1",{"font-bold":t.isMacOs}]},[t._v(" "+t._s(t.$t(t.isMacOs?"display":"adjust-brightness"))+" ")]),s("winui-slider",{attrs:{min:"0.6",max:"1.2",step:"0.1"},model:{value:t.brightness,callback:function(e){t.brightness=e},expression:"brightness"}})]},proxy:!0}],null,!0)}),s("taskbar-item",{on:{click:t.toggle}},[s("div",{staticClass:"battery",class:{win11:"win11"===t.theme,"transform rotate-90 mx-1 bg-transparent":["win10","win11","win11dark"].includes(t.theme)||t.isMacOs}},[s("div",{ref:"Gauge"})])])],1)},je=[],We=s("6ba9"),ze=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:["taskbar-popup",{"taskbar-popup--menu":t.isItemMenu}]},[t.isItemMenu?[t._t("default")]:[s("div",{staticClass:"top"},[t._t("top")],2),s("div",{staticClass:"body"},[t._t("body")],2),s("div",{staticClass:"bottom"},[t._t("bottom")],2)]],2)},Re=[],Ve={props:{isItemMenu:Boolean}},Be=Ve,He=(s("30e4"),Object(b["a"])(Be,ze,Re,!1,null,"694b6f26",null)),Ye=He.exports,Fe={components:{TaskbarPopup:Ye,TaskbarItem:We["a"]},data(){return{id:"battery",level:100,isCharging:!1,interval:null,brightness:1}},watch:{brightness(t){const e=this.$root.$el.querySelector("#windows");e.style.filter=`brightness(${t})`}},computed:{...Object(a["d"])(["activePopup","theme"]),showPopup(){return this.activePopup===this.id},isMacOs(){return"macos"===this.theme}},mounted(){this.interval=setInterval(async()=>{const{batteryLevel:t,isCharging:e}=await Object(w["b"])();this.level=100*t,this.isCharging=e;const{level:s}=this,{Gauge:i,Gauge3D:n}=this.$refs;i.style.height=s+"%",i.style.top=100-s+"%",n&&(n.style.height=s+"%",n.style.top=100-s+"%")},1e3)},beforeDestroy(){clearInterval(this.interval)},methods:{toggle(){this.$store.commit(v["a"].Popup,this.showPopup?null:this.id)}}},Ke=Fe,Ue=(s("fad4"),Object(b["a"])(Ke,Ne,je,!1,null,"3245cb05",null)),Ze=Ue.exports,Ge=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{directives:[{name:"frag",rawName:"v-frag"}]},[s("taskbar-popup",{directives:[{name:"show",rawName:"v-show",value:t.showPopup,expression:"showPopup"}],staticClass:"popup-calendar",scopedSlots:t._u([{key:"top",fn:function(){return[s("div",{staticClass:"time",attrs:{hidden:""}},[s("digital-clock")],1),s("a",{on:{click:t.reset}},[t._v(t._s(t.fullDate))])]},proxy:!0},{key:"body",fn:function(){return[s("div",{attrs:{id:"date"}},[s("calendar",{attrs:{id:"taskbar-calendar"},on:{mount:t.setCalendar}})],1),s("div",{attrs:{id:"time"}},[s("div",{attrs:{id:"taskbar-clock"}},[s("clock"),t._l(60,(function(t){return s("div",{key:t,staticClass:"mark",class:t%5?"":"h",style:"transform: rotate("+6*t+"deg) translateX(-50%)"})}))],2),s("div",[s("digital-clock")],1)])]},proxy:!0},{key:"bottom",fn:function(){return[s("a",{on:{click:t.changeSetting}},[t._v(t._s(t.$t("change-date-settings"))+"...")])]},proxy:!0}])}),s("taskbar-item",{staticClass:"calendar",on:{click:t.toggle}},[s("span",[s("digital-clock",{attrs:{"show-second":!1}})],1),t.theme.startsWith("mac")?s("span",[t._v(t._s(t.shortDate))]):s("span",[t._v(t._s(t.date))])])],1)},qe=[],Je=s("c466"),Xe=s("fb57"),Qe=s("8fe6"),ts=s.n(Qe),es=s("5f72"),ss={data(){return{id:"datetime",calendar:null,date:Object(Je["c"])(),shortDate:Object(Je["a"])(null,this.$i18n.locale,!0),fullDate:Object(Je["a"])(null,this.$i18n.locale)}},computed:{...Object(a["d"])(["activePopup","theme"]),showPopup(){return this.activePopup===this.id}},methods:{toggle(){this.$store.commit(v["a"].Popup,this.showPopup?null:this.id)},changeSetting(){Object(w["g"])(w["a"].ACTION_DATE_SETTINGS)},setCalendar(t){this.calendar=t},reset(){this.calendar&&this.calendar.reset()}},components:{Clock:ts.a,Calendar:Xe["a"],DigitalClock:es["a"],TaskbarPopup:Ye,TaskbarItem:We["a"]}},is=ss,ns=(s("b365"),Object(b["a"])(is,Ge,qe,!1,null,"b5bdd350",null)),rs=ns.exports,as=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("pose-div",{directives:[{name:"touch",rawName:"v-touch:swipe",value:t.handleSwipe,expression:"handleSwipe",arg:"swipe"}],attrs:{id:"start-menu",pose:t.isOpen?"visible":"hidden"}},[s("overlay",{staticClass:"overlay",style:{backgroundImage:"url("+t.bg+")"},on:{click:t.closeLaunchpad}}),s("div",{staticClass:"w-1/4 mx-auto my-5",on:{input:t.search}},[s("input",{attrs:{type:"search",placeholder:t.$t("search")}})]),t._l(t.totalPages,(function(e){return s("ul",{directives:[{name:"show",rawName:"v-show",value:e===t.currentPage,expression:"i === currentPage"}],key:e,staticClass:"programs"},t._l(t.searchList.slice(18*e-18,18*e),(function(e){return s("li",{key:e.key,staticClass:"text-center"},[s("button",{on:{click:function(s){return t.open(e.key)}}},[s("img",{attrs:{src:e.icon,alt:e.lbl}}),s("span",[t._v(t._s(e.lbl))])])])})),0)})),s("nav",{staticClass:"pagination"},t._l(t.totalPages,(function(e){return s("span",{key:e,class:{active:e===t.currentPage},attrs:{"aria-label":e},on:{click:function(s){return t.changePage(e)}}})})),0)],2)},os=[],cs=s("37b6"),ls=s("5097"),hs=s("95d1"),ds={components:{Overlay:ls["a"],PoseDiv:hs["a"].div({visible:{opacity:1,scale:1,transition:{duration:cs["b"]},applyAtStart:{display:""}},hidden:{opacity:0,scale:1.05,transition:{duration:cs["b"]},applyAtEnd:{display:"none"}}})},data(){return{searchList:[],currentPage:1}},computed:{...Object(a["c"])(["themeData"]),...Object(a["d"])({isOpen:"activeStart",background:"background",apps:({apps:t})=>Object.keys(t).map(e=>({key:e,lbl:t[e].label,icon:Object(M["h"])(t[e].icon)})),programs({programs:t}){return t.map(t=>({key:t,lbl:this.$t(t),icon:this.themeData.icon[t]}))},fullList(){return[...this.apps,...this.programs].sort((t,e)=>{const s=t.lbl.toLowerCase(),i=e.lbl.toLowerCase();return s<i?-1:s>i?1:0})}}),bg(){return this.background||this.themeData.bg},totalPages(){return Math.ceil(this.searchList.length/18)}},mounted(){this.searchList=this.fullList.slice(0)},methods:{handleSwipe(t){this.scrollPage(t)},scrollPage(t){"left"===t&&this.currentPage<this.totalPages&&this.currentPage++,"right"===t&&this.currentPage>1&&this.currentPage--},changePage(t){this.currentPage=t},search(t){const{value:e}=t.target;this.searchList=e?this.fullList.filter(({lbl:t})=>t.toLowerCase().includes(e.toLowerCase())):this.fullList.slice(0)},open(t){this.$root.$emit(B["c"].OpenWindow,t),this.$store.commit(v["a"].Start)},closeLaunchpad(){this.$store.commit(v["a"].Start)}}},us=ds,ps=(s("9988"),Object(b["a"])(us,as,os,!1,null,"366f8761",null)),ms=ps.exports,gs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("taskbar-item",{class:t.stat,on:{click:t.launchSetting}},[s("div",{attrs:{id:"network"}},["win11"===t.theme||"win11dark"===t.theme||t.theme.startsWith("mac")?s("i",{staticClass:"fa fa-wifi fa-lg"}):"win10"===t.theme?s("i",{staticClass:"las la-wifi text-2xl transform -rotate-45"}):[s("span"),s("span"),s("span"),s("span"),s("span")]],2)])},bs=[],fs=s("c8ec"),ys={components:{TaskbarItem:We["a"]},props:{type:String},data(){return{stat:"",launchSetting:()=>Object(w["g"])(w["a"].ACTION_WIFI_SETTINGS)}},computed:Object(a["d"])(["theme"]),created(){fs["a"].addListener("networkStatusChange",({connected:t})=>{this.stat=t?"":"off"})},beforeDestroy(){fs["a"].removeAllListeners()}},vs=ys,Ss=(s("a9b4"),Object(b["a"])(vs,gs,bs,!1,null,"51b997c8",null)),ws=Ss.exports,_s=s("6bf2"),ks={components:{Launchpad:ms,Battery:Ze,DateTime:rs,Network:ws},data(){return{menuId:"apple-menu",menuItems:[{text:this.$t("about"),click:()=>this.open("about")},{text:`${this.$t("help")} ${this.$t("and")} ${this.$t("support")}`,click:r["l"]},{text:this.$t("account"),click:()=>{this.$store.commit(v["a"].WindowLocation,"accounts"),this.open("cpanel")}},{text:this.$t("logoff"),click:async()=>{await(this.$store.state.user?_s["c"].logout():Promise.resolve()),this.changeView(B["d"].Switch),this.$store.commit(v["a"].User,null)}},{text:this.$t("restart"),click:()=>this.changeView(B["d"].Restart)},{text:this.$t("shutdown"),click:()=>this.changeView(B["d"].Shutdown)}],activeWindow:null,menuOffset:null,unsubscribe:null}},computed:{...Object(a["d"])(["activePopup"]),activeWindowTitle(){if(/^(game|web)_/.test(this.activeWindow)){const[,...t]=this.activeWindow.split("_");return t.filter(t=>!Number(t)&&t.length<13).join(" ")}return this.$t(this.activeWindow)}},mounted(){this.unsubscribe=this.$store.subscribe((t,e)=>{const{WindowFocus:s,WindowAdd:i,WindowRemove:n}=v["a"];if([s,i].includes(t.type)&&(this.activeWindow=t.payload),t.type===n){const{windows:t}=e;this.activeWindow=t.length?t.find(e=>e.index===t.length).id:null}})},beforeDestroy(){this.unsubscribe()},methods:{open(t){this.$root.$emit(B["c"].OpenWindow,t),this.toggleMenu()},toggleMenu(){this.$store.commit(v["a"].Popup,this.activePopup===this.menuId?null:this.menuId)},changeView(t){this.$root.$emit(B["c"].ChangeView,t),this.toggleMenu()}}},Ds=ks,Ps=(s("7561"),Object(b["a"])(Ds,Le,Ae,!1,null,"08312dd9",null)),xs=Ps.exports,$s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"menubar"}},[s("launchpad"),s("div",{staticStyle:{display:"flex"}},[s("div",{attrs:{id:"activities"}},[t._v("Activities")]),t.activeWindow?s("button",{staticClass:"font-bold active-window-name"},[t._v(" "+t._s(t.$t(t.activeWindow))+" ")]):t._e()]),s("date-time"),s("div",{staticClass:"flex items-center",attrs:{id:"menubar-tray"}},[s("network"),s("battery"),s("div",{attrs:{id:"menubar-items"}},[s("button",{on:{click:function(e){return e.stopPropagation(),t.toggleMenu(e)}}},[s("i",{staticClass:"fa fa-power-off"})]),s("winui-menu",{directives:[{name:"show",rawName:"v-show",value:t.activePopup===t.menuId,expression:"activePopup === menuId"}]},t._l(t.menuItems,(function(e,i){return s("winui-menuitem",{key:i,class:{"has-divider":[2,3].includes(i)}},[s("button",{on:{click:e.click}},[t._v(t._s(e.text))])])})),1)],1)],1)],1)},Is=[],Cs={components:{Launchpad:ms,Battery:Ze,DateTime:rs,Network:ws},data(){return{menuId:"ubuntu-menu",menuItems:[{text:this.$t("settings"),click:()=>this.open("cpanel")},{text:this.$t("about"),click:()=>this.open("about")},{text:`${this.$t("help")} ${this.$t("and")} ${this.$t("support")}`,click:r["l"]},{text:this.$t("account"),click:()=>{this.$store.commit(v["a"].WindowLocation,"accounts"),this.open("cpanel")}},{text:this.$t("logoff"),click:async()=>{await(this.$store.state.user?_s["c"].logout():Promise.resolve()),this.changeView(B["d"].Switch),this.$store.commit(v["a"].User,null)}},{text:this.$t("restart"),click:()=>this.changeView(B["d"].Restart)},{text:this.$t("shutdown"),click:()=>this.changeView(B["d"].Shutdown)}],activeWindow:null,menuOffset:null,unsubscribe:null}},computed:Object(a["d"])(["activePopup"]),mounted(){this.unsubscribe=this.$store.subscribe((t,e)=>{const{WindowFocus:s,WindowAdd:i,WindowRemove:n}=v["a"];if([s,i].includes(t.type)&&(this.activeWindow=t.payload),t.type===n){const{windows:t}=e;this.activeWindow=t.length?t.find(e=>e.index===t.length).id:null}})},beforeDestroy(){this.unsubscribe()},methods:{open(t){this.$root.$emit(B["c"].OpenWindow,t),this.toggleMenu()},toggleMenu(){this.$store.commit(v["a"].Popup,this.activePopup===this.menuId?null:this.menuId)},changeView(t){this.$root.$emit(B["c"].ChangeView,t),this.toggleMenu()}}},Ms=Cs,Os=(s("7adc"),Object(b["a"])(Ms,$s,Is,!1,null,"7ce2e9f1",null)),Ts=Os.exports,Es=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"touch",rawName:"v-touch:touchhold",value:t.openMenu,expression:"openMenu",arg:"touchhold"}],class:{centered:t.taskbar.centered,maximized:t.hasMaximizedWindow},attrs:{id:"taskbar"},on:{contextmenu:t.openMenu}},[s("taskbar-menu",{attrs:{offset:t.menuOffset}}),s("start-button"),s("div",{ref:"container",attrs:{id:"taskbar-items"}},[t._l(Object.keys(t.items),(function(e){return s("taskbar-item",{key:e,ref:"items",refInFor:!0,class:{opened:t.items[e],active:t.isActive(e)},style:{"--icon":"url('"+t.getIcon(e)+"')"},attrs:{"data-target":e,"data-icon":e},on:{click:function(s){t.items[e]?t.toggle(e):t.open(e)},contextmenu:t.openItemMenu}})})),s("taskbar-popup",{directives:[{name:"show",rawName:"v-show",value:Object.keys(t.items).includes(t.activeItem),expression:"Object.keys(items).includes(activeItem)"}],style:t.menuOffset,attrs:{isItemMenu:""}},[s("ul",{staticClass:"body"},[t.items[t.activeItem]?t._e():s("li",{on:{click:function(e){return t.open(t.activeItem)}}},[s("img",{attrs:{src:t.getIcon(t.activeItem)}}),t._v(t._s(t.$t("open"))+" ")]),t.pins.includes(t.activeItem)?s("li",{on:{click:t.togglePin}},[s("img",{attrs:{src:t.getIcon("pin")}}),t._v(t._s(t.$t("unpin-taskbar"))+" ")]):s("li",{on:{click:t.togglePin}},[s("img",{attrs:{src:t.getIcon("pin")}}),t._v(t._s(t.$t("pin-taskbar")))]),t.items[t.activeItem]?s("li",{on:{click:t.close}},[s("img",{attrs:{src:t.getIcon("close")}}),t._v(t._s(t.$t("close")+" "+t.$t("window").toLowerCase())+" ")]):t._e()])])],2),s("div",{attrs:{id:"taskbar-tray"}},[s("action-center"),s("network"),s("battery"),s("date-time"),s("desktop")],1)],1)},Ls=[],As=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{directives:[{name:"frag",rawName:"v-frag"}]},[s("taskbar-item",{ref:"item",on:{click:t.handleClick}},[s("img",{attrs:{src:t.icon,width:"20"}})]),s("notification",{style:t.notificationStyle})],1)},Ns=[],js=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{"enter-active-class":"animated fadeIn faster","leave-active-class":"animated fadeOut fastest"}},[s("winui-balloon",{directives:[{name:"show",rawName:"v-show",value:t.isVisible,expression:"isVisible"}],staticClass:"is-top is-left"},[s("button",{on:{click:t.handleClick}},[t._v("x")]),s("img",{staticClass:"mr-2",attrs:{src:t.icon,alt:"icon",width:"48"}}),t.notification.body?s("div",[s("h3",[t._v(t._s(t.notification.title))]),s("pre",{domProps:{innerHTML:t._s(t.parseInline(t.notification.body))}})]):t._e()])],1)},Ws=[],zs=s("6ac3"),Rs=s("968c");const Vs="lastDismissedVersion",Bs={title:"New updates installed",body:'Congratulations! Win7 Simu has received new updates, you are on the latest version.\nClick <a href="https://visnalize.com/win7simu/changelog" target="_blank">here</a> to see what\'s new.',data:{type:"success"}},Hs={async get(){await Object(r["r"])(2e3);const t=await Rs["a"].local.get(Vs);return t===me["b"]?null:Bs},dismiss(){Rs["a"].local.update(Vs,null,me["b"])}};var Ys=Hs,Fs=s("7c5c"),Ks={data(){return{isVisible:!1,notification:{}}},computed:{...Object(a["d"])(["assets"]),icon(){return this.notification&&this.notification.data?Object(r["a"])(this.assets.icos,"notifi-"+this.notification.data.type):null}},async mounted(){if(Object(O["a"])())zs["a"].addListener("pushNotificationReceived",t=>{this.notification=t,this.isVisible=!0});else{const t=await Ys.get();t&&(this.notification=t,this.isVisible=!0)}},beforeDestroy(){Object(O["a"])()&&zs["a"].removeAllListeners()},methods:{parseInline:Fs["parseInline"],handleClick(){this.isVisible=!1,!Object(O["a"])()&&Ys.dismiss()}}},Us=Ks,Zs=(s("2e1d"),Object(b["a"])(Us,js,Ws,!1,null,"d0ad1002",null)),Gs=Zs.exports,qs={components:{TaskbarItem:We["a"],Notification:Gs},computed:{...Object(a["c"])(["themeData","isRtl"]),icon(){return this.themeData.icon["action-center"]}},data(){return{notificationStyle:{}}},async mounted(){await this.$nextTick();const t=this.$refs.item.$el.getBoundingClientRect(),e={left:t.left+"px",right:window.innerWidth-t.right+"px"},s=this.isRtl?"left":"right";this.notificationStyle={bottom:"98%",[s]:e[s]}},methods:{handleClick(){}}},Js=qs,Xs=(s("aaa2"),Object(b["a"])(Js,As,Ns,!1,null,"3f85dc27",null)),Qs=Xs.exports,ti=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("taskbar-item",{style:t.style,attrs:{id:"show-desktop","aria-label":t.$t("desktop")},on:{click:t.showDesktop}})},ei=[];const si=["basic-2","basic-3","basic-4","win95","win2k"];var ii={components:{TaskbarItem:We["a"]},computed:{...Object(a["c"])(["themeData"]),style(){const t=si.includes(this.theme),e=t?this.themeData.icon.desktop:null;return t?{backgroundImage:`url(${e})`}:null}},methods:{showDesktop(){const{windows:t}=this.$store.state;t.forEach(({id:t})=>{this.$store.commit(v["a"].WindowUpdate,{id:t,minimized:!0})})}}},ni=ii,ri=(s("2be6"),Object(b["a"])(ni,ti,ei,!1,null,"1ed71d96",null)),ai=ri.exports,oi=s("6266"),ci=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("winui-menu",{class:{inactive:!t.showMenu},style:t.menuOffset,attrs:{id:t.id}},[s("winui-menuitem",{attrs:{"aria-disabled":""}},[s("button",[t._v(t._s(t.$t("toolbar")))])]),s("hr"),s("winui-menuitem",{attrs:{"aria-disabled":""}},[s("button",[t._v(t._s(t.$t("cascade-windows")))])]),s("winui-menuitem",{attrs:{"aria-disabled":""}},[s("button",[t._v(t._s(t.$t("stack-windows")))])]),s("winui-menuitem",{attrs:{"aria-disabled":""}},[s("button",[t._v(t._s(t.$t("side-windows")))])]),s("winui-menuitem",{staticClass:"has-divider"},[s("button",{on:{click:t.showDesktop}},[t._v(t._s(t.$t("show-desktop")))])]),s("winui-menuitem",{staticClass:"has-divider"},[s("button",{on:{click:t.openTaskmgr}},[t._v(t._s(t.$t("taskmgr")))])]),s("winui-menuitem",[s("button",{on:{click:t.openProperties}},[t._v(t._s(t.$t("properties")))])])],1)},li=[],hi={props:{offset:Object},data(){return{id:"taskbar-menu",menuOffset:null,subOffset:null}},computed:{...Object(a["d"])(["activePopup"]),showMenu(){return this.activePopup===this.id}},watch:{offset(t){if(!t)return;const{offsetWidth:e}=this.$el,{offsetWidth:s,offsetHeight:i}=this.$root.$el,{x:n,y:r}=t;this.menuOffset={left:(n+e<s?n:n-e)+"px",bottom:i-r+"px"},this.subOffset={left:n+2*e>s?"initial":"100%",right:n+2*e>s?"100%":""}}},methods:{showDesktop(){const{windows:t}=this.$store.state;t.forEach(({id:t})=>{this.$store.commit(v["a"].WindowUpdate,{id:t,minimized:!0})})},openTaskmgr(){this.$root.$emit(B["c"].OpenWindow,"taskmgr")},openProperties(){this.$root.$emit(B["c"].OpenWindow,"taskbar")}}},di=hi,ui=Object(b["a"])(di,ci,li,!1,null,null,null),pi=ui.exports,mi={data(){return{items:this.loadItems(),menuOffset:null,containerSize:0,activeItemMenu:!1,unsubscribe:null,hasMaximizedWindow:!1}},computed:{...Object(a["d"])({theme:"theme",taskbar:"taskbar",apps:"apps",pins:"pinnedPrograms",activeItem:"activePopup",games:"onlineGames",shortcuts:"shortcuts"}),...Object(a["c"])(["themeData"])},mounted(){this.getMaxSize(),this.unsubscribe=this.$store.subscribe(t=>{if(t.type===v["a"].Theme&&this.getMaxSize(),(t.type.includes("pin")||t.type.includes("Window"))&&(this.items=this.loadItems()),t.type!==v["a"].Popup||t.payload||(this.activeItemMenu=!1),t.type===v["a"].WindowUpdate||t.type===v["a"].WindowRemove){const{windows:t}=this.$store.state;this.hasMaximizedWindow=t.some(t=>t.maximized&&!t.minimized)}})},beforeDestroy(){this.unsubscribe()},watch:{items(){this.$nextTick().then(()=>{!/win11/.test(this.theme)&&this.isBloated()&&this.die()})}},methods:{getIcon(t){if(t){if(t.startsWith("game_")){const e=this.games.find(e=>e.id===t);return e&&e.icon}if(t.startsWith("web_")){const e=this.shortcuts.find(e=>e.key===t);return e&&e.icon}return t.startsWith("message_")?this.themeData.icon.fileexplorer:Object(r["e"])(t)?Object(M["c"])(this.apps[t].icon):this.themeData.icon[t]}},getMaxSize(){this.$nextTick().then(()=>{const{container:t}=this.$refs;this.containerSize=t?t.offsetWidth:this.containerSize})},isActive(t){const{windows:e}=this.$store.state,s=e.find(e=>e.id===t),i=!!s&&(s.index===e.length&&!s.minimized);return this.activeItem===t||i},isBloated(){const t=(t,{$el:e})=>t+e.offsetWidth+parseFloat(getComputedStyle(e).marginRight),e=this.$refs.items.reduce(t,0);return e>this.containerSize},die(){this.$root.$emit(B["c"].ChangeView,B["d"].Bsod,"LEAKED_TASKBAR")},loadItems(){const{pinnedPrograms:t,windows:e}=this.$store.state,s=this.items||{},i=e.map(t=>t.id);return t.forEach(t=>s[t]=!1),i.forEach(t=>s[t]=!0),Object.keys(s).forEach(e=>{[...t,...i].includes(e)||delete s[e]}),{...s}},open(t){this.$root.$emit(B["c"].OpenWindow,t),this.closeMenu()},close(){this.$root.$emit(B["c"].CloseWindow,this.activeItem),this.closeMenu()},toggle(t){const{windows:e}=this.$store.state,s=e.find(e=>e.id===t);s.locked||(s.minimized?(this.$store.commit(v["a"].WindowUpdate,{id:t,minimized:!1}),this.$store.commit(v["a"].WindowFocus,t)):s.index===e.length?this.$store.commit(v["a"].WindowUpdate,{id:t,minimized:!0}):this.$store.commit(v["a"].WindowFocus,t))},togglePin(){const{activeItem:t}=this,e=this.pins.includes(t)?v["a"].ProgramUnpin:v["a"].ProgramPin;this.$store.dispatch(e,t),this.closeMenu()},openMenu(t){const e=t.target.closest("#start-menu"),s=t.target.closest(".taskbar-popup");if(this.activeItemMenu||e||s)return;t.preventDefault(),t.stopPropagation();const i=t.clientX||t.touches[0].clientX,n=t.clientY||t.touches[0].clientY;this.menuOffset={x:i,y:n},this.$store.commit(v["a"].Popup,"taskbar-menu")},openItemMenu(t){t.preventDefault(),t.stopPropagation();const e=240,{target:s}=t.target.dataset,{x:i,width:n}=t.target.getBoundingClientRect(),r=i-e/2+n/2;this.menuOffset={width:e+"px",left:(r>0?r:0)+"px"},this.$store.commit(v["a"].Popup,s),this.activeItemMenu=!0},closeMenu(){this.$store.commit(v["a"].Popup,null)}},components:{TaskbarMenu:pi,Desktop:ai,Battery:Ze,DateTime:rs,Network:ws,StartButton:oi["a"],TaskbarItem:We["a"],TaskbarPopup:Ye,ActionCenter:Qs}},gi=mi,bi=(s("17c1"),Object(b["a"])(gi,Es,Ls,!1,null,"01d748b0",null)),fi=bi.exports,yi={computed:{...Object(a["d"])(["theme"]),isMacos(){return this.theme.startsWith("mac")},isUbuntu(){return"ubuntu"===this.theme}},components:{Taskbar:fi,MenubarMac:xs,MenubarUbuntu:Ts}},vi=yi,Si=Object(b["a"])(vi,Te,Ee,!1,null,null,null),wi=Si.exports,_i=s("0d26"),ki=s("50f4"),Di={mixins:[De],data(){return{actualSaver:null,previewSaver:null,timerId:null}},computed:{...Object(a["d"])(["background","screensaver","theme"]),...Object(a["c"])(["themeData"]),parsedBg(){return Object(r["n"])(this.background||this.themeData.bg)},saverType(){return this.actualSaver||this.previewSaver}},created(){const{windows:t,programs:e,recentPrograms:s}=this.$store.state,{notes:i}=this.$store.state.stickynotes;this.$root.$on(B["c"].SaveScreen,(t,e)=>{e?this.previewSaver=t:(this.previewSaver=null,this.actualSaver=t)}),this.$root.$on(B["c"].OpenWindow,i=>{if(Object(r["e"])(i))return Object(w["f"])(i),void Object(ki["b"])(i);const n=t.find(t=>t.id===i);if(n){const{id:t}=n;n.minimized&&this.$store.commit(v["a"].WindowUpdate,{id:t,minimized:!1}),this.$store.commit(v["a"].WindowFocus,i)}else this.$store.commit(v["a"].WindowAdd,i),Object(ki["b"])(i);const a=e.indexOf(i)>-1;if(a){const t=s.indexOf(i);t>-1&&s.splice(t,1),s.unshift(i),this.$store.dispatch(v["a"].RecentPrograms,s.slice(0,8))}}),this.$root.$on(B["c"].CloseWindow,t=>this.$store.commit(v["a"].WindowRemove,t)),i.length&&this.$root.$emit(B["c"].OpenWindow,"sticky")},mounted(){_i["b"].enabled&&_i["b"].get("app")&&this.$root.$emit(B["c"].OpenWindow,_i["b"].get("app")),document.addEventListener("click",this.resetTimer),document.addEventListener("mousemove",this.resetTimer),document.addEventListener("touchstart",this.resetTimer),document.addEventListener("touchmove",this.resetTimer),document.addEventListener("keydown",this.resetTimer),document.addEventListener("scroll",this.resetTimer)},beforeDestroy(){document.removeEventListener("click",this.resetTimer),document.removeEventListener("mousemove",this.resetTimer),document.removeEventListener("touchstart",this.resetTimer),document.removeEventListener("touchmove",this.resetTimer),document.removeEventListener("keydown",this.resetTimer),document.removeEventListener("scroll",this.resetTimer),this.$root.$off(B["c"].SaveScreen),this.$root.$off(B["c"].OpenWindow),this.$root.$off(B["c"].CloseWindow)},methods:{resetTimer(){const{type:t,timeout:e}=this.screensaver;clearTimeout(this.timerId),this.timerId=setTimeout(()=>{this.actualSaver=t},60*e*1e3)}},components:{SponsorAds:Oe["a"],Desktop:Ce,Taskbar:wi,DesktopBackground:Me["a"],StartMenu:()=>Promise.all([s.e("about~bin~bsod~calc~camera~chrome~cmd~computer~cpanel~g-battery~g-calendar~g-clock~g-currency~g-weat~ebe0d192"),s.e("bin~bsod~camera~computer~cpanel~ie~minesweeper~notepad~paint~photo~player~purbleplace~recorder~snipp~c59c7086"),s.e("startmenu")]).then(s.bind(null,"c36b")),ScreenSaver:()=>Promise.all([s.e("about~bin~bsod~calc~camera~chrome~cmd~computer~cpanel~g-battery~g-calendar~g-clock~g-currency~g-weat~ebe0d192"),s.e("screensaver")]).then(s.bind(null,"6fb2"))}},Pi=Di,xi=(s("54ec"),Object(b["a"])(Pi,i,n,!1,null,null,null));e["default"]=xi.exports},"15e6":function(t,e,s){"use strict";s("c7fd")},"17c1":function(t,e,s){"use strict";s("e7d2")},"205a":function(t,e,s){},"286e":function(t,e,s){},"2be6":function(t,e,s){"use strict";s("38ce")},"2e1d":function(t,e,s){"use strict";s("205a")},"30e4":function(t,e,s){"use strict";s("9e99")},"38ce":function(t,e,s){},"3f571":function(t,e,s){},"43a0":function(t,e,s){},"49a0":function(t,e,s){},"4ee0":function(t,e,s){"use strict";var i=s("2f62"),n=s("04a5"),r=s("6792"),a=s("01b4"),o=s("f106"),c=s("4cca"),l=s("eb54b");e["a"]={mixins:[l["a"]],computed:{...Object(i["d"])(["shortcuts","programs","apps","pinnedPrograms","user"]),...Object(i["c"])(["themeData"]),defaultShortcuts(){return[{key:"bin",lbl:this.$t("bin"),icon:"bin"},{key:"computer",lbl:this.$t("computer"),icon:"computer"}]},items(){const t=[...this.shortcuts],e=this.defaultShortcuts.map(e=>{const s=t.findIndex(t=>t.key===e.key);return s<0?e:t.splice(s,1)[0]});return[...e,...t]}},methods:{getShortcut(t){const e=e=>e.key===t;return this.shortcuts.find(e)||this.defaultShortcuts.find(e)},async openItem(t){const e=this.getShortcut(t.key);if(e)try{let s=e.path,i=null;if("shortcut"===e.type){const n=JSON.parse(await o["a"].read(e.path,!0));s=n?n.path:s,i=n?n.exe:Object(c["b"])(t.lbl),"webapp"===i&&(i=e.key,this.$store.commit(a["a"].ProgramContent,{...e,content:{...n}}))}else i=t.key.startsWith("folder")?"computer":1===e.key.split("-").length?e.key:Object(c["b"])(t.lbl);if("file"===i)return this.emitError(n["a"].UNSUPPORTED_TYPE);this.$store.commit(a["a"].ProgramData,s),this.$root.$emit(r["c"].OpenWindow,i)}catch(s){s instanceof SyntaxError?this.emitError(n["a"].CORRUPTED_FILE):this.emitError(s)}else this.$root.$emit(r["c"].OpenWindow,t)}}}},"54ec":function(t,e,s){"use strict";s("fd57")},"5a16":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"touch",rawName:"v-touch:touchhold",value:t.openMenu,expression:"openMenu",arg:"touchhold"},{name:"tap",rawName:"v-tap:300",value:t.open,expression:"open",arg:"300"},{name:"clickout",rawName:"v-clickout",value:t.handleClickOutside,expression:"handleClickOutside"}],class:["item",{shortcut:t.shortcut,cut:t.cut,file:!!t.fileProgram}],style:t.style,attrs:{title:t.itemName.new,"data-key":t.item.key,"data-test-desktop-item":t.item.icon},on:{contextmenu:t.openMenu}},[s("span",{staticClass:"icon-wrapper"},[s("icon",{attrs:{id:t.item.icon,icon:t.itemIcon}})],1),t.renaming?s("input",{directives:[{name:"model",rawName:"v-model",value:t.itemName.new,expression:"itemName.new"}],ref:"Input",attrs:{maxlength:"30"},domProps:{value:t.itemName.new},on:{blur:t.rename,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.blur(e)},input:function(e){e.target.composing||t.$set(t.itemName,"new",e.target.value)}}}):s("label",[t._v(t._s(t.itemName.new))])])},n=[],r=s("0e9a"),a=s("2f62"),o=s("6792"),c=s("e645"),l=s("01b4"),h=s("ecae"),d=s("4cca"),u=s("0f35"),p=s("e302");const m={sm:50,md:80,lg:120};var g={components:{Icon:c["a"]},props:{item:Object,index:Number,renaming:Boolean},mixins:[h["a"]],data(){return{size:{width:0,height:0},position:{x:0,y:0},itemName:{},itemExt:{},hideExtension:!0}},watch:{item:{deep:!0,immediate:!0,handler({path:t,lbl:e}){const s=this.shortcuts.find(e=>e.path===t&&"folder"===e.type);if(s)this.itemName={old:e,new:e},this.itemExt={old:"",new:""};else{const{name:t,ext:s}=Object(r["r"])(e);this.itemName={old:t,new:t},this.itemExt={old:s,new:s}}}},renaming(t){t&&this.$nextTick(()=>this.$refs.Input.select())},sizeIcons(){this.updateIcon()},autoIcons(){this.updateIcon()}},computed:{...Object(a["d"])(["autoIcons","sizeIcons","trash","clipboardItem","shortcuts"]),...Object(a["c"])(["themeData"]),oldName(){return this.itemExt.old?`${this.itemName.old}.${this.itemExt.old}`:this.itemName.old},newName(){return this.itemExt.new?`${this.itemName.new}.${this.itemExt.new}`:this.itemName.new},itemIcon(){let{icon:t}=this.item;return Object(r["h"])(t)||Object(u["g"])(t)?t:("bin"===t&&this.trash.length>0&&(t="bin-full"),this.themeData.icon[t])},style(){return{width:this.size.width+"px",height:this.size.height+"px",transform:`translate(${this.position.x}px, ${this.position.y}px)`,"--program":this.fileProgram?`url('${this.fileProgram}')`:null}},shortcut(){return"shortcut"===this.item.type},fileProgram(){if("file"===this.item.icon){const t=Object(d["b"])(this.item.path);return"file"===t?null:this.themeData.icon[t]}return null},cut(){return this.clipboardItem&&"cut"===this.clipboardItem.action&&this.clipboardItem.path===this.item.path}},mounted(){this.handleDrag(),this.updateIcon(),window.addEventListener("resize",this.updateIcon)},methods:{openMenu(t){this.$root.$emit(o["c"].OpenMenu,{e:t,type:"item",id:this.item.key})},open({target:t},e){e&&t!==this.$refs.Input&&this.openItem(this.item)},blur(){this.$refs.Input.blur()},focus(){this.$refs.Input.focus()},async rename(){const{item:t,oldName:e,newName:s}=this;if(this.itemName.new&&s!==e)try{const e={id:t.key,name:s};await this.$store.dispatch(l["a"].ShortcutRename,e),this.$emit("rename",null)}catch(i){this.focus(),Object(p["l"])(this.$t(i))}else this.itemName.new=this.itemName.old,this.itemExt.new=this.itemExt.old,this.$emit("rename",null)},handleClickOutside(){this.$emit("outclick",this.$el)},updateIcon(){if(this.size={width:m[this.sizeIcons],height:m[this.sizeIcons]},!this.autoIcons&&this.item.x>=0&&this.item.y>=0)return void(this.position={x:this.item.x,y:this.item.y});const t=Math.floor(window.innerHeight/this.size.height),e=t>1?t-1:1,s=this.index%e,i=Math.floor(this.index/e)*this.size.width,n=(s-Math.floor(s/e))*this.size.height;this.position={x:i,y:n}}}},b=g,f=(s("9155"),s("2877")),y=Object(f["a"])(b,i,n,!1,null,"6d3894cd",null);e["a"]=y.exports},"5ce9":function(t,e,s){"use strict";s("a70b")},6266:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:{active:!t.asDecorator&&t.active},attrs:{id:"start-button"},on:{click:function(e){return e.stopPropagation(),t.toggle(e)}}},[s("icon",{attrs:{id:"start-button",icon:t.button}})],1)},n=[],r=s("2f62"),a=s("e645"),o=s("01b4"),c={props:{asDecorator:Boolean},components:{Icon:a["a"]},computed:{...Object(r["d"])({active:"activeStart"}),...Object(r["c"])(["themeData"]),button(){return this.themeData.icon.start}},methods:{toggle(){this.asDecorator||(this.$store.commit(o["a"].Start),this.$store.commit(o["a"].Popup,null))}}},l=c,h=(s("0484"),s("2877")),d=Object(h["a"])(l,i,n,!1,null,"7ca77f98",null);e["a"]=d.exports},"63fa":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.isAnimated?s("video",{attrs:{src:t.src,muted:"",loop:"",autoplay:"",playsinline:"","data-test-desktop-background":""},domProps:{muted:!0}}):s("div",{style:{"--bg":t.bgVar},attrs:{"data-test-desktop-background":""}})},n=[],r={props:{src:String,isAnimated:Boolean},computed:{bgVar(){if(this.src)return this.src.startsWith("#")?this.src:`url(${this.src})`}}},a=r,o=(s("15e6"),s("2877")),c=Object(o["a"])(a,i,n,!1,null,"54084d2f",null);e["a"]=c.exports},"66bd":function(t,e,s){},"6ba9":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{"enter-active-class":"animated fadeIn faster","leave-active-class":"animated fadeOut fastest"}},[s("button",{directives:[{name:"touch",rawName:"v-touch:touchhold",value:t.emitContextmenu,expression:"emitContextmenu",arg:"touchhold"}],staticClass:"taskbar-item",on:{click:function(e){return e.stopPropagation(),t.emitClick(e)},contextmenu:t.emitContextmenu}},[t._t("default")],2)])},n=[],r=s("01b4"),a=s("2f62"),o={computed:{...Object(a["d"])(["activeStart"])},methods:{emitClick(){this.$emit("click"),this.activeStart&&this.$store.commit(r["a"].Start,!1)},emitContextmenu(t){this.$emit("contextmenu",t)}}},c=o,l=(s("b1f5"),s("2877")),h=Object(l["a"])(c,i,n,!1,null,"1896f854",null);e["a"]=h.exports},"6bf2":function(t,e,s){"use strict";s.d(e,"a",(function(){return c})),s.d(e,"b",(function(){return l}));var i=s("be8c"),n=s("1547"),r=s("dbd1");const a=Object(n["c"])("FirebaseAuthentication",{web:()=>s.e("chunk-2d238653").then(s.bind(null,"feca")).then(t=>new t.FirebaseAuthenticationWeb)});function o(t){return t.trim().toLowerCase()+"@win7.simu"}const c=i["AuthErrorCodes"],l=r["a"];e["c"]={async create(t,e){return/^[a-zA-Z0-9]*$/.test(t)?(await Object(i["createUserWithEmailAndPassword"])(Object(i["getAuth"])(),o(t),e),this.updateProfile({displayName:t})):Promise.reject({code:c.INVALID_RECIPIENT_EMAIL})},async login(t,e){const s=t.includes("@win7.simu")?t:o(t),n=a.signInWithEmailAndPassword({email:s,password:e}),r=Object(i["signInWithEmailAndPassword"])(Object(i["getAuth"])(),s,e),[c]=await Promise.all([r,n]);return c.user},async loginWith(t){let e,s;if(t===r["a"].GOOGLE)e=await a.signInWithGoogle(),s=i["GoogleAuthProvider"].credential(e.credential.idToken,e.credential.accessToken);else if(t===r["a"].APPLE)e=await a.signInWithApple({skipNativeAuth:!0}),s=new i["OAuthProvider"](t).credential({idToken:e.credential.idToken,rawNonce:e.credential.nonce});else{if(t!==r["a"].GITHUB)return Promise.reject({message:"Provider not supported"});e=await a.signInWithGithub(),s=i["GithubAuthProvider"].credential(e.credential.accessToken)}const{user:n}=await Object(i["signInWithCredential"])(Object(i["getAuth"])(),s);return{...n,isNewUser:e.additionalUserInfo.isNewUser}},async linkWith(t){let e,s;if(t===r["a"].GOOGLE)e=await a.linkWithGoogle(),s=i["GoogleAuthProvider"].credential(e.credential.idToken,e.credential.accessToken);else if(t===r["a"].APPLE)e=await a.linkWithApple(),s=new i["OAuthProvider"](t).credential({idToken:e.credential.idToken,rawNonce:e.credential.nonce});else{if(t!==r["a"].GITHUB)return Promise.reject({message:"Provider not supported"});e=await a.linkWithGithub(),s=i["GithubAuthProvider"].credential(e.credential.accessToken)}const{user:n}=await Object(i["signInWithCredential"])(Object(i["getAuth"])(),s);return n},async unlink(t){const e=await Object(i["unlink"])(Object(i["getAuth"])().currentUser,t);return e},logout(){const t=a.signOut(),e=Object(i["signOut"])(Object(i["getAuth"])());return Promise.all([e,t])},async delete(t){try{const e=Object(i["getAuth"])().currentUser;return await this.login(e.email,t),Object(i["deleteUser"])(e)}catch(e){return Promise.reject(e)}},async deleteWithoutPassword(t){const e=Object(i["getAuth"])().currentUser;try{await Object(i["deleteUser"])(e)}catch(s){if(s.code!==c.CREDENTIAL_TOO_OLD_LOGIN_AGAIN)return Promise.reject(s);try{await this.loginWith(t),await Object(i["deleteUser"])(e)}catch(n){return Promise.reject(n)}}},async updateProfile(t){const e=Object(i["getAuth"])().currentUser;return await Object(i["updateProfile"])(e,t),e},async updatePassword(t,e){try{const s=Object(i["getAuth"])().currentUser;return await this.login(s.email,t),Object(i["updatePassword"])(s,e)}catch(s){return Promise.reject(s)}}}},"6e15":function(t,e,s){"use strict";var i=s("4cca"),n=s("0e9a"),r=s("1547");class a extends r["b"]{async write(t){if("undefined"===typeof navigator||!navigator.clipboard)throw this.unavailable("Clipboard API not available in this browser");if(void 0!==t.string)await this.writeText(t.string);else if(t.url)await this.writeText(t.url);else{if(!t.image)throw new Error("Nothing to write");if("undefined"===typeof ClipboardItem)throw this.unavailable("Writing images to the clipboard is not supported in this browser");try{const e=await(await fetch(t.image)).blob(),s=new ClipboardItem({[e.type]:e});await navigator.clipboard.write([s])}catch(e){throw new Error("Failed to write image")}}}async read(){if("undefined"===typeof navigator||!navigator.clipboard)throw this.unavailable("Clipboard API not available in this browser");if("undefined"===typeof ClipboardItem)return this.readText();try{const t=await navigator.clipboard.read(),e=t[0].types[0],s=await t[0].getType(e),i=await this._getBlobData(s,e);return{value:i,type:e}}catch(t){return this.readText()}}async readText(){if("undefined"===typeof navigator||!navigator.clipboard||!navigator.clipboard.readText)throw this.unavailable("Reading from clipboard not supported in this browser");const t=await navigator.clipboard.readText();return{value:t,type:"text/plain"}}async writeText(t){if("undefined"===typeof navigator||!navigator.clipboard||!navigator.clipboard.writeText)throw this.unavailable("Writting to clipboard not supported in this browser");await navigator.clipboard.writeText(t)}_getBlobData(t,e){return new Promise((s,i)=>{const n=new FileReader;e.includes("image")?n.readAsDataURL(t):n.readAsText(t),n.onloadend=()=>{const t=n.result;s(t)},n.onerror=t=>{i(t)}})}}const o=Object(r["c"])("Clipboard",{web:()=>new a});var c=s("04a5"),l=s("01b4"),h=s("0fbc"),d=s("f106"),u=s("0f35"),p=s("2f62"),m=s("eb54b"),g=s("e302");e["a"]={mixins:[m["a"]],data(){return{showMenu:!1}},computed:{...Object(p["d"])(["shortcuts","desktopPath","clipboardItem"])},methods:{async _getFileNames(t){try{return(await d["a"].list(t)).map(t=>({lbl:t.name}))}catch(e){return[]}},async _makeItem(t,e){if(t===this.desktopPath){const s=Object(i["a"])(e.lbl,this.shortcuts);await this.$store.dispatch(l["a"].ShortcutAdd,{...e,path:t,lbl:s})}else{const n=await this._getFileNames(t),r=Object(i["a"])(e.lbl,n),a=`${t}/${r}`,o=Object(u["h"])(e.data)?d["a"].mkdir(a):d["a"].write(e.data,a);try{await o}catch(s){this.emitError(s.message||s)}}this.$store.commit(l["a"].ForceUpdate),this.closeMenu()},async _parse(t,e){const s=t.map(t=>t.size).reduce((t,e)=>t+e,0);this.emitProgress({title:"Uploading",header:`Uploading ${t.length} items (${Object(i["h"])(s)})`,message:"from your device to "+e});const n=t.map(async t=>{const s=Object(i["e"])(t.name);return this._makeItem(e,{lbl:t.name,key:Object(i["b"])(t.name),icon:s,data:await("text"===s?t.text():Object(h["d"])(t))})});try{await Promise.all(n)}catch(r){this.emitError(r.message||r)}this.dismissProgress()},async makeFolder(t){this._makeItem(t,{lbl:`${this.$t("new")} ${this.$t("folder")}`,key:"folder",icon:"folder",type:"folder"})},makeRichtext(t){this._makeItem(t,{lbl:`${this.$t("new")} ${this.$t("rich-text-document")}.rtf`,key:"wordpad",icon:"richtext",type:"file",data:""})},makeText(t){this._makeItem(t,{lbl:`${this.$t("new")} ${this.$t("text-document")}.txt`,key:"text",icon:"text",type:"file",data:""})},async upload(t){const{files:e}=await Object(g["h"])(!0),s=Array.from(e);this.closeMenu(),this._parse(s,t)},async paste(t){if(!this.clipboardItem)return;this.closeMenu();const{path:e,action:s}=this.clipboardItem,r=t,a=Object(i["f"])(e),o=Object(n["c"])(e),{name:h,ext:u}=Object(n["r"])(o);try{if("cut"===s){if(this.emitProgress({title:"Moving",header:"Moving 1 item",message:this.$t("wait")}),r!==a){const t=`${r}/${o}`,s=await d["a"].isExisting(t,r);if(s)throw new Error(c["a"].NAME_EXISTS);if(r===this.desktopPath&&await this._makeItem(this.desktopPath,{lbl:o,key:Object(i["b"])(o),icon:Object(i["e"])(o),moving:!0}),a===this.desktopPath){const t=this.shortcuts.find(t=>t.path===e);t&&await this.$store.dispatch(l["a"].ShortcutRemove,{...t,path:null})}await d["a"].rename(e,t)}this.$store.commit(l["a"].ClipboardItem,null)}if("copy"===s){this.emitProgress({title:"Copying",header:"Copying 1 item",message:this.$t("wait")});const t=`${h} - Copy${u?"."+u:""}`,s=await this._getFileNames(r),n=Object(i["a"])(t,s);r===this.desktopPath&&await this.$store.dispatch(l["a"].ShortcutAdd,{lbl:n,key:Object(i["b"])(n),icon:Object(i["e"])(n),moving:!0}),await d["a"].copy(e,`${r}/${n}`)}}catch(p){this.emitError(p.message||p)}this.$store.commit(l["a"].ForceUpdate),this.dismissProgress()},copyPath(t){o.write({string:t}).then(this.closeMenu)},closeMenu(){this.showMenu=!1}}}},7561:function(t,e,s){"use strict";s("3f571")},7796:function(t,e,s){},"7adc":function(t,e,s){"use strict";s("0717")},"811e":function(t,e,s){!function(e,s){t.exports=s()}(0,(function(){"use strict";class t{constructor(t={}){var e,s,i,n,r,a,o,c,l,h,d,u,p;if(this.CAL_NAME="color-calendar",this.DAYS_TO_DISPLAY=42,this.weekdayDisplayTypeOptions={short:["S","M","T","W","T","F","S"],"long-lower":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"long-upper":["SUN","MON","TUE","WED","THU","FRI","SAT"]},this.id=null!==(e=t.id)&&void 0!==e?e:"#color-calendar",this.calendarSize=null!==(s=t.calendarSize)&&void 0!==s?s:"large",this.layoutModifiers=null!==(i=t.layoutModifiers)&&void 0!==i?i:[],this.eventsData=null!==(n=t.eventsData)&&void 0!==n?n:[],this.theme=null!==(r=t.theme)&&void 0!==r?r:"basic",this.primaryColor=t.primaryColor,this.headerColor=t.headerColor,this.headerBackgroundColor=t.headerBackgroundColor,this.weekdaysColor=t.weekdaysColor,this.weekdayDisplayType=null!==(a=t.weekdayDisplayType)&&void 0!==a?a:"long-lower",this.monthDisplayType=null!==(o=t.monthDisplayType)&&void 0!==o?o:"long",this.startWeekday=null!==(c=t.startWeekday)&&void 0!==c?c:0,this.fontFamilyHeader=t.fontFamilyHeader,this.fontFamilyWeekdays=t.fontFamilyWeekdays,this.fontFamilyBody=t.fontFamilyBody,this.dropShadow=t.dropShadow,this.border=t.border,this.borderRadius=t.borderRadius,this.disableMonthYearPickers=null!==(l=t.disableMonthYearPickers)&&void 0!==l&&l,this.disableDayClick=null!==(h=t.disableDayClick)&&void 0!==h&&h,this.disableMonthArrowClick=null!==(d=t.disableMonthArrowClick)&&void 0!==d&&d,this.customMonthValues=t.customMonthValues,this.customWeekdayValues=t.customWeekdayValues,this.monthChanged=t.monthChanged,this.dateChanged=t.dateChanged,this.selectedDateClicked=t.selectedDateClicked,this.customWeekdayValues&&7===this.customWeekdayValues.length?this.weekdays=this.customWeekdayValues:this.weekdays=null!==(u=this.weekdayDisplayTypeOptions[this.weekdayDisplayType])&&void 0!==u?u:this.weekdayDisplayTypeOptions.short,this.today=new Date,this.currentDate=new Date,this.pickerType="month",this.eventDayMap={},this.oldSelectedNode=null,this.filteredEventsThisMonth=[],this.daysIn_PrevMonth=[],this.daysIn_CurrentMonth=[],this.daysIn_NextMonth=[],this.firstDay_PrevMonth=0,this.firstDay_CurrentMonth=0,this.firstDay_NextMonth=0,this.numOfDays_PrevMonth=0,this.numOfDays_CurrentMonth=0,this.numOfDays_NextMonth=0,this.yearPickerOffset=0,this.yearPickerOffsetTemporary=0,this.calendar=document.querySelector(this.id),!this.calendar)throw new Error(`[COLOR-CALENDAR] Element with selector '${this.id}' not found`);this.calendar.innerHTML=`\n      <div class="${this.CAL_NAME} ${this.theme} color-calendar--${this.calendarSize}">\n        <div class="calendar__header">\n          <div class="calendar__arrow calendar__arrow-prev"><div class="calendar__arrow-inner"></div></div>\n          <div class="calendar__monthyear">\n            <span class="calendar__month"></span>&nbsp;\n            <span class="calendar__year"></span>\n          </div>\n          <div class="calendar__arrow calendar__arrow-next"><div class="calendar__arrow-inner"></div></div>\n        </div>\n        <div class="calendar__body">\n          <div class="calendar__weekdays"></div>\n          <div class="calendar__days"></div>\n          <div class="calendar__picker">\n            <div class="calendar__picker-month">\n              ${(null!==(p=this.customMonthValues)&&void 0!==p?p:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]).map((t,e)=>`<div class="calendar__picker-month-option" data-value="${e}">${t}</div>`).join("")}\n            </div>\n            <div class="calendar__picker-year">\n              <div class="calendar__picker-year-option" data-value="0"></div>\n              <div class="calendar__picker-year-option" data-value="1"></div>\n              <div class="calendar__picker-year-option" data-value="2"></div>\n              <div class="calendar__picker-year-option" data-value="3"></div>\n              <div class="calendar__picker-year-option" data-value="4"></div>\n              <div class="calendar__picker-year-option" data-value="5"></div>\n              <div class="calendar__picker-year-option" data-value="6"></div>\n              <div class="calendar__picker-year-option" data-value="7"></div>\n              <div class="calendar__picker-year-option" data-value="8"></div>\n              <div class="calendar__picker-year-option" data-value="9"></div>\n              <div class="calendar__picker-year-option" data-value="10"></div>\n              <div class="calendar__picker-year-option" data-value="11"></div>\n              <div class="calendar__picker-year-arrow calendar__picker-year-arrow-left">\n                <div class="chevron-thin chevron-thin-left"></div>\n              </div>\n              <div class="calendar__picker-year-arrow calendar__picker-year-arrow-right">\n                <div class="chevron-thin chevron-thin-right"></div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    `,this.calendarRoot=document.querySelector(`${this.id} .${this.CAL_NAME}`),this.calendarHeader=document.querySelector(this.id+" .calendar__header"),this.calendarWeekdays=document.querySelector(this.id+" .calendar__weekdays"),this.calendarDays=document.querySelector(this.id+" .calendar__days"),this.pickerContainer=document.querySelector(this.id+" .calendar__picker"),this.pickerMonthContainer=document.querySelector(this.id+" .calendar__picker-month"),this.pickerYearContainer=document.querySelector(this.id+" .calendar__picker-year"),this.yearPickerChevronLeft=document.querySelector(this.id+" .calendar__picker-year-arrow-left"),this.yearPickerChevronRight=document.querySelector(this.id+" .calendar__picker-year-arrow-right"),this.pickerMonthContainer.children[this.today.getMonth()].classList.add("calendar__picker-month-today"),this.layoutModifiers.forEach(t=>{this.calendarRoot.classList.add(t)}),this.layoutModifiers.includes("month-left-align")&&(this.calendarHeader.innerHTML='\n        <div class="calendar__monthyear">\n          <span class="calendar__month"></span>&nbsp;\n          <span class="calendar__year"></span>\n        </div>\n        <div class="calendar__arrow calendar__arrow-prev"><div class="calendar__arrow-inner"></div></div>\n        <div class="calendar__arrow calendar__arrow-next"><div class="calendar__arrow-inner"></div></div>\n      '),this.monthyearDisplay=document.querySelector(this.id+" .calendar__monthyear"),this.monthDisplay=document.querySelector(this.id+" .calendar__month"),this.yearDisplay=document.querySelector(this.id+" .calendar__year"),this.prevButton=document.querySelector(this.id+" .calendar__arrow-prev .calendar__arrow-inner"),this.nextButton=document.querySelector(this.id+" .calendar__arrow-next .calendar__arrow-inner"),this.togglePicker(!1),this.configureStylePreferences(),this.addEventListeners(),this.reset(new Date)}reset(t){this.currentDate=t||new Date,this.clearCalendarDays(),this.updateMonthYear(),this.updateMonthPickerSelection(this.currentDate.getMonth()),this.generatePickerYears(),this.updateYearPickerSelection(this.currentDate.getFullYear(),4),this.updateYearPickerTodaySelection(),this.generateWeekdays(),this.generateDays(),this.selectDayInitial(!!t),this.renderDays(),this.setOldSelectedNode(),this.dateChanged&&this.dateChanged(this.currentDate,this.getDateEvents(this.currentDate)),this.monthChanged&&this.monthChanged(this.currentDate,this.getMonthEvents())}}return t.prototype.addEventListeners=function(){this.prevButton.addEventListener("click",this.handlePrevMonthButtonClick.bind(this)),this.nextButton.addEventListener("click",this.handleNextMonthButtonClick.bind(this)),this.monthyearDisplay.addEventListener("click",this.handleMonthYearDisplayClick.bind(this)),this.calendarDays.addEventListener("click",this.handleCalendarDayClick.bind(this)),this.pickerMonthContainer.addEventListener("click",this.handleMonthPickerClick.bind(this)),this.pickerYearContainer.addEventListener("click",this.handleYearPickerClick.bind(this)),this.yearPickerChevronLeft.addEventListener("click",this.handleYearChevronLeftClick.bind(this)),this.yearPickerChevronRight.addEventListener("click",this.handleYearChevronRightClick.bind(this))},t.prototype.configureStylePreferences=function(){let t=this.calendarRoot;this.primaryColor&&t.style.setProperty("--cal-color-primary",this.primaryColor),this.fontFamilyHeader&&t.style.setProperty("--cal-font-family-header",this.fontFamilyHeader),this.fontFamilyWeekdays&&t.style.setProperty("--cal-font-family-weekdays",this.fontFamilyWeekdays),this.fontFamilyBody&&t.style.setProperty("--cal-font-family-body",this.fontFamilyBody),this.dropShadow&&t.style.setProperty("--cal-drop-shadow",this.dropShadow),this.border&&t.style.setProperty("--cal-border",this.border),this.borderRadius&&t.style.setProperty("--cal-border-radius",this.borderRadius),this.headerColor&&t.style.setProperty("--cal-header-color",this.headerColor),this.headerBackgroundColor&&t.style.setProperty("--cal-header-background-color",this.headerBackgroundColor),this.weekdaysColor&&t.style.setProperty("--cal-weekdays-color",this.weekdaysColor)},t.prototype.togglePicker=function(t){!0===t?(this.pickerContainer.style.visibility="visible",this.pickerContainer.style.opacity="1","year"===this.pickerType&&this.generatePickerYears(),this.removeYearPickerSelection(),this.updateYearPickerSelection(this.currentDate.getFullYear())):!1===t?(this.pickerContainer.style.visibility="hidden",this.pickerContainer.style.opacity="0",this.monthDisplay&&this.yearDisplay&&(this.monthDisplay.style.opacity="1",this.yearDisplay.style.opacity="1"),this.yearPickerOffsetTemporary=0):"hidden"===this.pickerContainer.style.visibility?(this.pickerContainer.style.visibility="visible",this.pickerContainer.style.opacity="1","year"===this.pickerType&&this.generatePickerYears(),this.removeYearPickerSelection(),this.updateYearPickerSelection(this.currentDate.getFullYear())):(this.pickerContainer.style.visibility="hidden",this.pickerContainer.style.opacity="0",this.monthDisplay&&this.yearDisplay&&(this.monthDisplay.style.opacity="1",this.yearDisplay.style.opacity="1"),this.yearPickerOffsetTemporary=0)},t.prototype.handleMonthPickerClick=function(t){if(!t.target.classList.contains("calendar__picker-month-option"))return;const e=parseInt(t.target.dataset.value,10);this.updateMonthPickerSelection(e),this.updateCurrentDate(0,void 0,e),this.togglePicker(!1)},t.prototype.updateMonthPickerSelection=function(t){t<0?t=11:t%=12,this.removeMonthPickerSelection(),this.pickerMonthContainer.children[t].classList.add("calendar__picker-month-selected")},t.prototype.removeMonthPickerSelection=function(){for(let t=0;t<12;t++)this.pickerMonthContainer.children[t].classList.contains("calendar__picker-month-selected")&&this.pickerMonthContainer.children[t].classList.remove("calendar__picker-month-selected")},t.prototype.handleYearPickerClick=function(t){if(!t.target.classList.contains("calendar__picker-year-option"))return;this.yearPickerOffset+=this.yearPickerOffsetTemporary;const e=parseInt(t.target.innerText),s=parseInt(t.target.dataset.value);this.updateYearPickerSelection(e,s),this.updateCurrentDate(0,void 0,void 0,e),this.togglePicker(!1)},t.prototype.updateYearPickerSelection=function(t,e){if(void 0===e){for(let s=0;s<12;s++){let i=this.pickerYearContainer.children[s];if(parseInt(i.innerHTML)===t&&i.dataset.value){e=parseInt(i.dataset.value);break}}if(void 0===e)return}this.removeYearPickerSelection(),this.pickerYearContainer.children[e].classList.add("calendar__picker-year-selected")},t.prototype.updateYearPickerTodaySelection=function(){parseInt(this.pickerYearContainer.children[4].innerHTML)===this.today.getFullYear()?this.pickerYearContainer.children[4].classList.add("calendar__picker-year-today"):this.pickerYearContainer.children[4].classList.remove("calendar__picker-year-today")},t.prototype.removeYearPickerSelection=function(){for(let t=0;t<12;t++)this.pickerYearContainer.children[t].classList.contains("calendar__picker-year-selected")&&this.pickerYearContainer.children[t].classList.remove("calendar__picker-year-selected")},t.prototype.generatePickerYears=function(){const t=this.today.getFullYear()+this.yearPickerOffset+this.yearPickerOffsetTemporary;let e=0;for(let s=t-4;s<=t+7;s++)this.pickerYearContainer.children[e].innerText=s.toString(),e++;this.updateYearPickerTodaySelection()},t.prototype.handleYearChevronLeftClick=function(){this.yearPickerOffsetTemporary-=12,this.generatePickerYears(),this.removeYearPickerSelection(),this.updateYearPickerSelection(this.currentDate.getFullYear()),this.updateYearPickerTodaySelection()},t.prototype.handleYearChevronRightClick=function(){this.yearPickerOffsetTemporary+=12,this.generatePickerYears(),this.removeYearPickerSelection(),this.updateYearPickerSelection(this.currentDate.getFullYear()),this.updateYearPickerTodaySelection()},t.prototype.setMonthDisplayType=function(t){this.monthDisplayType=t,this.updateMonthYear()},t.prototype.handleMonthYearDisplayClick=function(t){if(!t.target.classList.contains("calendar__month")&&!t.target.classList.contains("calendar__year"))return;if(this.disableMonthYearPickers)return;const e=this.pickerType,s=t.target.classList;s.contains("calendar__month")?(this.pickerType="month",this.monthDisplay.style.opacity="1",this.yearDisplay.style.opacity="0.7",this.pickerMonthContainer.style.display="grid",this.pickerYearContainer.style.display="none"):s.contains("calendar__year")&&(this.pickerType="year",this.monthDisplay.style.opacity="0.7",this.yearDisplay.style.opacity="1",this.pickerMonthContainer.style.display="none",this.pickerYearContainer.style.display="grid"),e===this.pickerType?this.togglePicker():this.togglePicker(!0)},t.prototype.handlePrevMonthButtonClick=function(){if(this.disableMonthArrowClick)return;const t=this.currentDate.getMonth()-1;this.currentDate.getFullYear()<=this.today.getFullYear()+this.yearPickerOffset-4&&t<0&&(this.yearPickerOffset-=12,this.generatePickerYears()),t<0&&this.updateYearPickerSelection(this.currentDate.getFullYear()-1),this.updateMonthPickerSelection(t),this.updateCurrentDate(-1),this.togglePicker(!1)},t.prototype.handleNextMonthButtonClick=function(){if(this.disableMonthArrowClick)return;const t=this.currentDate.getMonth()+1;this.currentDate.getFullYear()>=this.today.getFullYear()+this.yearPickerOffset+7&&t>11&&(this.yearPickerOffset+=12,this.generatePickerYears()),t>11&&this.updateYearPickerSelection(this.currentDate.getFullYear()+1),this.updateMonthPickerSelection(t),this.updateCurrentDate(1),this.togglePicker(!1)},t.prototype.updateMonthYear=function(){this.oldSelectedNode=null,this.customMonthValues?this.monthDisplay.innerHTML=this.customMonthValues[this.currentDate.getMonth()]:this.monthDisplay.innerHTML=new Intl.DateTimeFormat("default",{month:this.monthDisplayType}).format(this.currentDate),this.yearDisplay.innerHTML=this.currentDate.getFullYear().toString()},t.prototype.setWeekdayDisplayType=function(t){var e;this.weekdayDisplayType=t,this.weekdays=null!==(e=this.weekdayDisplayTypeOptions[this.weekdayDisplayType])&&void 0!==e?e:this.weekdayDisplayTypeOptions.short,this.generateWeekdays()},t.prototype.generateWeekdays=function(){let t="";for(let e=0;e<7;e++)t+=`\n      <div class="calendar__weekday">${this.weekdays[(e+this.startWeekday)%7]}</div>\n    `;this.calendarWeekdays.innerHTML=t},t.prototype.setDate=function(t){t&&(t instanceof Date?this.reset(t):this.reset(new Date(t)))},t.prototype.getSelectedDate=function(){return this.currentDate},t.prototype.clearCalendarDays=function(){this.daysIn_PrevMonth=[],this.daysIn_CurrentMonth=[],this.daysIn_NextMonth=[]},t.prototype.updateCalendar=function(t){t&&(this.updateMonthYear(),this.clearCalendarDays(),this.generateDays(),this.selectDayInitial()),this.renderDays(),t&&this.setOldSelectedNode()},t.prototype.setOldSelectedNode=function(){if(!this.oldSelectedNode){let t=void 0;for(let e=1;e<this.calendarDays.childNodes.length;e+=2){let s=this.calendarDays.childNodes[e];if(s.classList&&s.classList.contains("calendar__day-active")&&s.innerText===this.currentDate.getDate().toString()){t=s;break}}t&&(this.oldSelectedNode=[t,parseInt(t.innerText)])}},t.prototype.selectDayInitial=function(t){if(t)this.daysIn_CurrentMonth[this.currentDate.getDate()-1].selected=!0;else{let t=this.today.getMonth()===this.currentDate.getMonth(),e=this.today.getDate()===this.currentDate.getDate();t&&e?this.daysIn_CurrentMonth[this.today.getDate()-1].selected=!0:this.daysIn_CurrentMonth[0].selected=!0}},t.prototype.handleCalendarDayClick=function(t){if(!(t.target.classList.contains("calendar__day-box")||t.target.classList.contains("calendar__day-text")||t.target.classList.contains("calendar__day-box-today")||t.target.classList.contains("calendar__day-bullet")))return;if(this.disableDayClick)return;if(this.oldSelectedNode&&!this.oldSelectedNode[0])return;if(t.target.parentElement.classList.contains("calendar__day-selected"))return void(this.selectedDateClicked&&this.selectedDateClicked(this.currentDate,this.getDateEvents(this.currentDate)));let e,s;e=t.target.parentElement.innerText,s=parseInt(e,10),this.removeOldDaySelection(),e&&(this.updateCurrentDate(0,s),Object.assign(this.daysIn_CurrentMonth[s-1],{selected:!0}),this.rerenderSelectedDay(t.target.parentElement,s,!0))},t.prototype.removeOldDaySelection=function(){this.oldSelectedNode&&(Object.assign(this.daysIn_CurrentMonth[this.oldSelectedNode[1]-1],{selected:!1}),this.rerenderSelectedDay(this.oldSelectedNode[0],this.oldSelectedNode[1]))},t.prototype.updateCurrentDate=function(t,e,s,i){this.currentDate=new Date(i||this.currentDate.getFullYear(),null!=s?s:this.currentDate.getMonth()+t,0===t&&e?e:1),(0!==t||null!=s||i)&&(this.updateCalendar(!0),this.monthChanged&&this.monthChanged(this.currentDate,this.getMonthEvents())),this.dateChanged&&this.dateChanged(this.currentDate,this.getDateEvents(this.currentDate))},t.prototype.generateDays=function(){this.numOfDays_PrevMonth=new Date(this.currentDate.getFullYear(),this.currentDate.getMonth(),0).getDate(),this.firstDay_CurrentMonth=new Date(this.currentDate.getFullYear(),this.currentDate.getMonth(),1).getDay(),this.numOfDays_CurrentMonth=new Date(this.currentDate.getFullYear(),this.currentDate.getMonth()+1,0).getDate();for(let t=0;t<this.numOfDays_CurrentMonth;t++)this.daysIn_CurrentMonth.push({day:t+1,selected:!1})},t.prototype.renderDays=function(){let t=0;const e=this.currentDate.getFullYear(),s=this.currentDate.getMonth();let i;this.filteredEventsThisMonth=this.eventsData.filter(t=>{const i=new Date(t.start);return i.getFullYear()===e&&i.getMonth()===s}),this.eventDayMap={},this.filteredEventsThisMonth.forEach(t=>{const e=new Date(t.start).getDate(),s=new Date(t.end).getDate();for(let i=e;i<=s;i++)this.eventDayMap[i]=!0}),i=this.firstDay_CurrentMonth<this.startWeekday?7+this.firstDay_CurrentMonth-this.startWeekday:this.firstDay_CurrentMonth-this.startWeekday;let n="";for(let o=0;o<i;o++)n+=`\n      <div class="calendar__day calendar__day-other">${this.numOfDays_PrevMonth+1-i+o}</div>\n    `,t++;let r=this.today.getFullYear()===this.currentDate.getFullYear(),a=this.today.getMonth()===this.currentDate.getMonth()&&r;this.daysIn_CurrentMonth.forEach(e=>{let s=a&&e.day===this.today.getDate();n+=`\n      <div class="calendar__day calendar__day-active${s?" calendar__day-today":""}${this.eventDayMap[e.day]?" calendar__day-event":" calendar__day-no-event"}${e.selected?" calendar__day-selected":""}">\n        <span class="calendar__day-text">${e.day}</span>\n        <div class="calendar__day-bullet"></div>\n        <div class="calendar__day-box"></div>\n      </div>\n    `,t++});for(let o=0;o<this.DAYS_TO_DISPLAY-t;o++)n+=`\n      <div class="calendar__day calendar__day-other">${o+1}</div>\n    `;this.calendarDays.innerHTML=n},t.prototype.rerenderSelectedDay=function(t,e,s){let i=t.previousElementSibling,n=this.today.getFullYear()===this.currentDate.getFullYear(),r=this.today.getMonth()===this.currentDate.getMonth()&&n&&e===this.today.getDate(),a=document.createElement("div");a.className+=`calendar__day calendar__day-active${r?" calendar__day-today":""}${this.eventDayMap[e]?" calendar__day-event":" calendar__day-no-event"}${this.daysIn_CurrentMonth[e-1].selected?" calendar__day-selected":""}`,a.innerHTML=`\n    <span class="calendar__day-text">${e}</span>\n    <div class="calendar__day-bullet"></div>\n    <div class="calendar__day-box"></div>\n  `,i?i.parentElement?i.parentElement.insertBefore(a,i.nextSibling):console.log("Previous element does not have parent"):this.calendarDays.insertBefore(a,t),s&&(this.oldSelectedNode=[a,e]),t.remove()},t.prototype.getEventsData=function(){return JSON.parse(JSON.stringify(this.eventsData))},t.prototype.setEventsData=function(t){return this.eventsData=JSON.parse(JSON.stringify(t)),this.setDate(this.currentDate),this.eventsData.length},t.prototype.addEventsData=function(t=[]){const e=this.eventsData.push(...t);return this.setDate(this.currentDate),e},t.prototype.getDateEvents=function(t){return this.filteredEventsThisMonth.filter(e=>{const s=new Date(e.start).getDate(),i=new Date(e.end).getDate();return t.getDate()>=s&&t.getDate()<=i})},t.prototype.getMonthEvents=function(){return this.filteredEventsThisMonth},t}))},"83fc":function(t,e,s){},8712:function(t,e,s){(function(e){let s;t.exports="function"===typeof queueMicrotask?queueMicrotask.bind("undefined"!==typeof window?window:e):t=>(s||(s=Promise.resolve())).then(t).catch(t=>setTimeout(()=>{throw t},0))}).call(this,s("c8ba"))},"8cc1":function(t,e,s){t.exports=n;const i=s("8712");function n(t,e){let s,n,r,a=!0;function o(t){function n(){e&&e(t,s),e=null}a?i(n):n()}function c(t,e,i){s[t]=i,(0===--n||e)&&o(e)}Array.isArray(t)?(s=[],n=t.length):(r=Object.keys(t),s={},n=r.length),n?r?r.forEach((function(e){t[e]((function(t,s){c(e,t,s)}))})):t.forEach((function(t,e){t((function(t,s){c(e,t,s)}))})):o(null),a=!1}},"8fe6":function(t,e,s){!function(e,s){t.exports=s()}(0,(function(){return function(t){function e(i){if(s[i])return s[i].exports;var n=s[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,e),n.l=!0,n.exports}var s={};return e.m=t,e.c=s,e.i=function(t){return t},e.d=function(t,s,i){e.o(t,s)||Object.defineProperty(t,s,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var s=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(s,"a",s),s},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=2)}([function(t,e,s){s(5);var i=s(8)(s(1),s(9),"data-v-7e3f7126",null);t.exports=i.exports},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{timeList:[12,1,2,3,4,5,6,7,8,9,10,11],transform:"scale(1)",hourRotate:"rotatez(0deg)",minuteRotate:"rotatez(0deg)",secondRotate:"rotatez(0deg)"}},props:["time","color","border","bg","size"],computed:{clockStyle:function(){return{height:this.size,width:this.size,color:this.color,border:this.border,background:this.bg}}},watch:{time:function(){this.show()}},methods:{show:function(){var t=this;this.showTime(),this._timer&&clearInterval(this._timer),this.time||(this._timer=setInterval((function(){t.showTime()}),1e3))},showTime:function(){var t=void 0;if(this.time)t=this.time.split(":");else{var e=new Date;t=[e.getHours(),e.getMinutes(),e.getSeconds()]}var s=+t[0];s=s>11?s-12:s;var i=+t[1],n=+t[2]||0,r=30*s+6*i/360*30,a=6*i,o=6*n;this.hourRotate="rotatez("+r+"deg)",this.minuteRotate="rotatez("+a+"deg)",this.secondRotate="rotatez("+o+"deg)"}},mounted:function(){var t=this.$el.clientWidth/120;t=t>3?3:t,this.transform="scale("+t+")",this.show()},destroyed:function(){this._timer&&clearInterval(this._timer)}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(0),n=function(t){return t&&t.__esModule?t:{default:t}}(i);e.default=n.default,"undefined"!=typeof window&&window.Vue&&window.Vue.component("clock",n.default)},function(t,e,s){e=t.exports=s(4)(),e.push([t.i,'.clock[data-v-7e3f7126]{position:relative;display:inline-block;vertical-align:middle;width:150px;height:150px;border:2px solid;border-radius:100%;text-align:center;font-size:14px}.clock .hour[data-v-7e3f7126]{position:absolute;top:0;left:50%;display:block;width:20px;height:50%;margin-left:-10px;padding-top:4%;font-weight:400;transform-origin:bottom;user-select:none;box-sizing:border-box}.clock .hour>span[data-v-7e3f7126]{display:block}.clock .hour>span>i[data-v-7e3f7126]{display:block;font-style:normal}.clock .hour[data-v-7e3f7126]:nth-of-type(2){transform:rotatez(30deg)}.clock .hour:nth-of-type(2)>span[data-v-7e3f7126]{transform:rotatez(-30deg)}.clock .hour[data-v-7e3f7126]:nth-of-type(3){transform:rotatez(60deg)}.clock .hour:nth-of-type(3)>span[data-v-7e3f7126]{transform:rotatez(-60deg)}.clock .hour[data-v-7e3f7126]:nth-of-type(4){transform:rotatez(90deg)}.clock .hour:nth-of-type(4)>span[data-v-7e3f7126]{transform:rotatez(-90deg)}.clock .hour[data-v-7e3f7126]:nth-of-type(5){transform:rotatez(120deg)}.clock .hour:nth-of-type(5)>span[data-v-7e3f7126]{transform:rotatez(-120deg)}.clock .hour[data-v-7e3f7126]:nth-of-type(6){transform:rotatez(150deg)}.clock .hour:nth-of-type(6)>span[data-v-7e3f7126]{transform:rotatez(-150deg)}.clock .hour[data-v-7e3f7126]:nth-of-type(7){transform:rotatez(180deg)}.clock .hour:nth-of-type(7)>span[data-v-7e3f7126]{transform:rotatez(-180deg)}.clock .hour[data-v-7e3f7126]:nth-of-type(8){transform:rotatez(210deg)}.clock .hour:nth-of-type(8)>span[data-v-7e3f7126]{transform:rotatez(-210deg)}.clock .hour[data-v-7e3f7126]:nth-of-type(9){transform:rotatez(240deg)}.clock .hour:nth-of-type(9)>span[data-v-7e3f7126]{transform:rotatez(-240deg)}.clock .hour[data-v-7e3f7126]:nth-of-type(10){transform:rotatez(270deg)}.clock .hour:nth-of-type(10)>span[data-v-7e3f7126]{transform:rotatez(-270deg)}.clock .hour[data-v-7e3f7126]:nth-of-type(11){transform:rotatez(300deg)}.clock .hour:nth-of-type(11)>span[data-v-7e3f7126]{transform:rotatez(-300deg)}.clock .hour[data-v-7e3f7126]:nth-of-type(12){transform:rotatez(330deg)}.clock .hour:nth-of-type(12)>span[data-v-7e3f7126]{transform:rotatez(-330deg)}.clock .clock-circle[data-v-7e3f7126]{position:absolute;top:50%;left:50%;width:16px;height:16px;transform:translate(-50%,-50%);border:2px solid #666;border-radius:100%;background-color:#fff;z-index:1;box-sizing:border-box}.clock .clock-circle[data-v-7e3f7126]:before{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);display:block;content:"";width:4px;height:4px;border-radius:100%;background-color:#666}.clock .clock-hour[data-v-7e3f7126],.clock .clock-minute[data-v-7e3f7126],.clock .clock-second[data-v-7e3f7126]{position:absolute;top:15%;left:50%;display:block;width:2px;height:35%;margin-left:-1px;border-radius:5px;transform-origin:bottom;background-color:#666}.clock .clock-hour[data-v-7e3f7126]{top:30%;width:4px;height:20%;margin-left:-2px}.clock .clock-second[data-v-7e3f7126]{width:1px}.clock.is-small[data-v-7e3f7126]{width:80px;height:80px;border-width:1px;font-size:12px}.clock.is-small .clock-circle[data-v-7e3f7126]{width:10px;height:10px;border-width:1px}.clock.is-small .clock-circle[data-v-7e3f7126]:before{width:2px;height:2px}',""])},function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var s=this[e];s[2]?t.push("@media "+s[2]+"{"+s[1]+"}"):t.push(s[1])}return t.join("")},t.i=function(e,s){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},n=0;n<this.length;n++){var r=this[n][0];"number"==typeof r&&(i[r]=!0)}for(n=0;n<e.length;n++){var a=e[n];"number"==typeof a[0]&&i[a[0]]||(s&&!a[2]?a[2]=s:s&&(a[2]="("+a[2]+") and ("+s+")"),t.push(a))}},t}},function(t,e,s){var i=s(3);"string"==typeof i&&(i=[[t.i,i,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};s(6)(i,n),i.locals&&(t.exports=i.locals)},function(t,e,s){function i(t,e){for(var s=0;s<t.length;s++){var i=t[s],n=g[i.id];if(n){n.refs++;for(var r=0;r<n.parts.length;r++)n.parts[r](i.parts[r]);for(;r<i.parts.length;r++)n.parts.push(d(i.parts[r],e))}else{var a=[];for(r=0;r<i.parts.length;r++)a.push(d(i.parts[r],e));g[i.id]={id:i.id,refs:1,parts:a}}}}function n(t,e){for(var s=[],i={},n=0;n<t.length;n++){var r=t[n],a=e.base?r[0]+e.base:r[0],o=r[1],c=r[2],l=r[3],h={css:o,media:c,sourceMap:l};i[a]?i[a].parts.push(h):s.push(i[a]={id:a,parts:[h]})}return s}function r(t,e){var s=y(t.insertInto);if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=w[w.length-1];if("top"===t.insertAt)i?i.nextSibling?s.insertBefore(e,i.nextSibling):s.appendChild(e):s.insertBefore(e,s.firstChild),w.push(e);else if("bottom"===t.insertAt)s.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var n=y(t.insertAt.before,s);s.insertBefore(e,n)}}function a(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=w.indexOf(t);e>=0&&w.splice(e,1)}function o(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var s=h();s&&(t.attrs.nonce=s)}return l(e,t.attrs),r(t,e),e}function c(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",l(e,t.attrs),r(t,e),e}function l(t,e){Object.keys(e).forEach((function(s){t.setAttribute(s,e[s])}))}function h(){return s.nc}function d(t,e){var s,i,n,r;if(e.transform&&t.css){if(!(r="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=r}if(e.singleton){var l=S++;s=v||(v=o(e)),i=u.bind(null,s,l,!1),n=u.bind(null,s,l,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(s=c(e),i=m.bind(null,s,e),n=function(){a(s),s.href&&URL.revokeObjectURL(s.href)}):(s=o(e),i=p.bind(null,s),n=function(){a(s)});return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else n()}}function u(t,e,s,i){var n=s?"":i.css;if(t.styleSheet)t.styleSheet.cssText=k(e,n);else{var r=document.createTextNode(n),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(r,a[e]):t.appendChild(r)}}function p(t,e){var s=e.css,i=e.media;if(i&&t.setAttribute("media",i),t.styleSheet)t.styleSheet.cssText=s;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(s))}}function m(t,e,s){var i=s.css,n=s.sourceMap,r=void 0===e.convertToAbsoluteUrls&&n;(e.convertToAbsoluteUrls||r)&&(i=_(i)),n&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */");var a=new Blob([i],{type:"text/css"}),o=t.href;t.href=URL.createObjectURL(a),o&&URL.revokeObjectURL(o)}var g={},b=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}((function(){return window&&document&&document.all&&!window.atob})),f=function(t,e){return e?e.querySelector(t):document.querySelector(t)},y=function(t){var e={};return function(t,s){if("function"==typeof t)return t();if(void 0===e[t]){var i=f.call(this,t,s);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}e[t]=i}return e[t]}}(),v=null,S=0,w=[],_=s(7);t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");e=e||{},e.attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=b()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var s=n(t,e);return i(s,e),function(t){for(var r=[],a=0;a<s.length;a++){var o=s[a],c=g[o.id];c.refs--,r.push(c)}t&&i(n(t,e),e);for(a=0;a<r.length;a++){c=r[a];if(0===c.refs){for(var l=0;l<c.parts.length;l++)c.parts[l]();delete g[c.id]}}}};var k=function(){var t=[];return function(e,s){return t[e]=s,t.filter(Boolean).join("\n")}}()},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var s=e.protocol+"//"+e.host,i=s+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(t,e){var n,r=e.trim().replace(/^"(.*)"$/,(function(t,e){return e})).replace(/^'(.*)'$/,(function(t,e){return e}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(r)?t:(n=0===r.indexOf("//")?r:0===r.indexOf("/")?s+r:i+r.replace(/^\.\//,""),"url("+JSON.stringify(n)+")")}))}},function(t,e){t.exports=function(t,e,s,i){var n,r=t=t||{},a=typeof t.default;"object"!==a&&"function"!==a||(n=t,r=t.default);var o="function"==typeof r?r.options:r;if(e&&(o.render=e.render,o.staticRenderFns=e.staticRenderFns),s&&(o._scopeId=s),i){var c=Object.create(o.computed||null);Object.keys(i).forEach((function(t){var e=i[t];c[t]=function(){return e}})),o.computed=c}return{esModule:n,exports:r,options:o}}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"clock",style:t.clockStyle},[s("div",{staticClass:"clock-circle"}),t._v(" "),s("div",{staticClass:"clock-hour",style:{transform:t.hourRotate}}),t._v(" "),s("div",{staticClass:"clock-minute",style:{transform:t.minuteRotate}}),t._v(" "),s("div",{staticClass:"clock-second",style:{transform:t.secondRotate}}),t._v(" "),t._l(t.timeList,(function(e){return s("b",{key:e,staticClass:"hour"},[s("span",[s("i",{style:{transform:t.transform}},[t._v(t._s(e))])])])}))],2)},staticRenderFns:[]}}])}))},9155:function(t,e,s){"use strict";s("7796")},"91ba":function(t,e,s){t.exports=n,t.exports.processItems=r;const i=s("8cc1");function n(t,e){if("string"===typeof t){const e=t;if(t=window.document.querySelector(t),!t)throw new Error(`"${e}" does not match any HTML elements`)}if(!t)throw new Error(`"${t}" is not a valid HTML element`);"function"===typeof e&&(e={onDrop:e}),t.addEventListener("dragenter",a,!1),t.addEventListener("dragover",o,!1),t.addEventListener("dragleave",c,!1),t.addEventListener("drop",l,!1);let s=!1,i=0;return function(){d(),t.removeEventListener("dragenter",a,!1),t.removeEventListener("dragover",o,!1),t.removeEventListener("dragleave",c,!1),t.removeEventListener("drop",l,!1)};function n(t){if(t.dataTransfer.items||t.dataTransfer.types){const s=Array.from(t.dataTransfer.items),i=Array.from(t.dataTransfer.types);let n,r;if(s.length)n=s.filter(t=>"file"===t.kind),r=s.filter(t=>"string"===t.kind);else{if(!i.length)return!1;n=i.filter(t=>"Files"===t),r=i.filter(t=>t.startsWith("text/"))}return!(0===n.length&&!e.onDropText)&&(!(0===r.length&&!e.onDrop)&&(0!==n.length||0!==r.length))}return!1}function a(t){if(t.stopPropagation(),t.preventDefault(),n(t))return s?(i+=1,!1):(s=!0,e.onDragEnter&&e.onDragEnter(t),h(),!1)}function o(t){if(t.stopPropagation(),t.preventDefault(),n(t))return e.onDragOver&&e.onDragOver(t),t.dataTransfer.dropEffect="copy",!1}function c(t){if(t.stopPropagation(),t.preventDefault(),n(t))return i>0?(i-=1,!1):(s=!1,e.onDragLeave&&e.onDragLeave(t),d(),!1)}function l(t){t.stopPropagation(),t.preventDefault(),e.onDragLeave&&e.onDragLeave(t),d(),s=!1,i=0;const n={x:t.clientX,y:t.clientY},a=t.dataTransfer.getData("text");return a&&e.onDropText&&e.onDropText(a,n),e.onDrop&&t.dataTransfer.items&&r(t.dataTransfer.items,(s,i,r)=>{if(s)return void console.error(s);if(0===i.length)return;const a=t.dataTransfer.files;e.onDrop(i,n,a,r)}),!1}function h(){t.classList.add("drag")}function d(){t.classList.remove("drag")}}function r(t,e){t=Array.from(t).filter(t=>"file"===t.kind),0===t.length&&e(null,[],[]),i(t.map(t=>e=>{a(t.webkitGetAsEntry(),e)}),(t,s)=>{if(t)return void e(t);const i=s.flat(1/0),n=i.filter(t=>t.isFile),r=i.filter(t=>t.isDirectory);e(null,n,r)})}function a(t,e){let s=[];if(t.isFile)t.file(s=>{s.fullPath=t.fullPath,s.isFile=!0,s.isDirectory=!1,e(null,s)},t=>{e(t)});else if(t.isDirectory){const e=t.createReader();n(e)}function n(t){t.readEntries(e=>{e.length>0?(s=s.concat(Array.from(e)),n(t)):r()})}function r(){i(s.map(t=>e=>{a(t,e)}),(s,i)=>{s?e(s):(i.push({fullPath:t.fullPath,name:t.name,isFile:!1,isDirectory:!0}),e(null,i))})}}},"93c8":function(t,e,s){},9988:function(t,e,s){"use strict";s("e5a9")},"9e99":function(t,e,s){},a65e:function(t,e,s){"use strict";s("c10d")},a70b:function(t,e,s){},a9b4:function(t,e,s){"use strict";s("66bd")},aaa2:function(t,e,s){"use strict";s("83fc")},b1f5:function(t,e,s){"use strict";s("014c")},b365:function(t,e,s){"use strict";s("286e")},c10d:function(t,e,s){},c7fd:function(t,e,s){},dbd1:function(t,e,s){"use strict";var i;s.d(e,"a",(function(){return i})),function(t){t["APPLE"]="apple.com",t["FACEBOOK"]="facebook.com",t["GAME_CENTER"]="gc.apple.com",t["GITHUB"]="github.com",t["GOOGLE"]="google.com",t["MICROSOFT"]="microsoft.com",t["PLAY_GAMES"]="playgames.google.com",t["TWITTER"]="twitter.com",t["YAHOO"]="yahoo.com",t["PASSWORD"]="password",t["PHONE"]="phone"}(i||(i={}))},e5a9:function(t,e,s){},e645:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"icon",style:t.style,attrs:{"data-icon":t.id}})},n=[],r={props:{id:String,icon:String},computed:{style(){return{"--icon":`url('${this.icon}')`}}}},a=r,o=(s("5ce9"),s("2877")),c=Object(o["a"])(a,i,n,!1,null,"0cc0d6dd",null);e["a"]=c.exports},e7d2:function(t,e,s){},e830:function(t,e,s){},eb54b:function(t,e,s){"use strict";var i=s("6792"),n=s("01b4");e["a"]={data(){return{activeProgress:null}},methods:{_emitMessage(t){const e="message_"+Date.now();this.$store.commit(n["a"].ProgramContent,{key:e,...t}),this.$root.$emit(i["c"].OpenWindow,e),"progress"===t.type&&(this.activeProgress=e)},emitError(t){this._emitMessage({type:"error",message:t})},emitProgress(t){this._emitMessage({type:"progress",...t})},dismissProgress(){this.$root.$emit(i["c"].CloseWindow,this.activeProgress),this.activeProgress=null}}}},ecae:function(t,e,s){"use strict";var i=s("01b4"),n=s("4ee0");const r="iconDragEnd";e["a"]={mixins:[n["a"]],data(){return{}},beforeDestroy(){this.$root.$off(r)},methods:{emitDrag(t){this.$root.$emit(r,t)},handleDrag(){this.$root.$on(r,t=>{const e=t.find(t=>t.key===this.item.key);if(!e)return;const{x:s,y:n}=e,{x:r,y:a}=this.item;s&&n&&(s!==r||n!==a)&&this.$store.dispatch(i["a"].ShortcutMove,{...this.item,x:s,y:n})})}}}},f817:function(t,e,s){},fad4:function(t,e,s){"use strict";s("43a0")},fb57:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:t.id}})},n=[],r=(s("49a0"),s("811e")),a=s.n(r),o={props:{id:String,monthType:String},mounted(){const t=new a.a({id:"#"+this.id,calendarSize:"small",weekdayDisplayType:"short",monthDisplayType:this.monthType||"long",dateChanged:this.handleDateChanged});this.$emit("mount",t)},methods:{handleDateChanged(t){this.$emit("changeDate",t)}}},c=o,l=(s("a65e"),s("2877")),h=Object(l["a"])(c,i,n,!1,null,null,null);e["a"]=h.exports},fd57:function(t,e,s){},ffd3:function(t,e,s){"use strict";s("e830")},fff3:function(t,e,s){"use strict";var i=s("6792"),n=s("17b6"),r=s("f106"),a=s("a080"),o=s("0f35");e["a"]={data(){return{viewMode:i["e"].Tiles}},computed:{viewModes(){return Object.values(i["e"]).map(t=>({value:t,label:this.$t(t)}))}},mounted(){this.$root.$on(i["c"].ChangeExplorerView,t=>this.viewMode=t)},methods:{async getViewMode(t){const e=await r["a"].getMeta(t,Object(o["h"])(t)?n["a"].External:void 0);return(JSON.parse(e)||{}).viewMode||i["e"].Tiles},async setViewMode(t,e){if(t&&Object(a["b"])(t))return;const s=Object(o["h"])(t)?n["a"].External:void 0;await r["a"].setMeta(t,{viewMode:e},s),this.$root.$emit(i["c"].ChangeExplorerView,e)}}}}}]);